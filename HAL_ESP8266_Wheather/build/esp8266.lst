ARM GAS  /tmp/ccZTlMdj.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"esp8266.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ESP8266_Init,"ax",%progbits
  18              		.align	1
  19              		.global	ESP8266_Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	ESP8266_Init:
  27              	.LFB739:
  28              		.file 1 "./Hardware/ESP8266/esp8266.c"
   1:./Hardware/ESP8266/esp8266.c **** #include "esp8266.h"
   2:./Hardware/ESP8266/esp8266.c **** 
   3:./Hardware/ESP8266/esp8266.c **** 
   4:./Hardware/ESP8266/esp8266.c **** 
   5:./Hardware/ESP8266/esp8266.c **** struct  STRUCT_USARTx_Fram strEsp8266_Fram_Record = { 0 };
   6:./Hardware/ESP8266/esp8266.c **** struct  STRUCT_USARTx_Fram strUSART_Fram_Record = { 0 };
   7:./Hardware/ESP8266/esp8266.c **** 
   8:./Hardware/ESP8266/esp8266.c **** 
   9:./Hardware/ESP8266/esp8266.c **** 
  10:./Hardware/ESP8266/esp8266.c **** /**
  11:./Hardware/ESP8266/esp8266.c ****   * @brief  ESP8266初始化函数
  12:./Hardware/ESP8266/esp8266.c ****   * @param  无
  13:./Hardware/ESP8266/esp8266.c ****   * @retval 无
  14:./Hardware/ESP8266/esp8266.c ****   */
  15:./Hardware/ESP8266/esp8266.c **** void ESP8266_Init ( void )
  16:./Hardware/ESP8266/esp8266.c **** {	
  29              		.loc 1 16 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  17:./Hardware/ESP8266/esp8266.c **** 	macESP8266_RST_HIGH_LEVEL();
  38              		.loc 1 17 2 view .LVU1
  39 0002 064C     		ldr	r4, .L3
  40 0004 0122     		movs	r2, #1
  41 0006 1021     		movs	r1, #16
ARM GAS  /tmp/ccZTlMdj.s 			page 2


  42 0008 2046     		mov	r0, r4
  43 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
  44              	.LVL0:
  18:./Hardware/ESP8266/esp8266.c **** 	macESP8266_CH_DISABLE();
  45              		.loc 1 18 2 view .LVU2
  46 000e 0022     		movs	r2, #0
  47 0010 2021     		movs	r1, #32
  48 0012 2046     		mov	r0, r4
  49 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
  50              	.LVL1:
  19:./Hardware/ESP8266/esp8266.c **** }
  51              		.loc 1 19 1 is_stmt 0 view .LVU3
  52 0018 10BD     		pop	{r4, pc}
  53              	.L4:
  54 001a 00BF     		.align	2
  55              	.L3:
  56 001c 00000240 		.word	1073872896
  57              		.cfi_endproc
  58              	.LFE739:
  60              		.section	.text.ESP8266_Rst,"ax",%progbits
  61              		.align	1
  62              		.global	ESP8266_Rst
  63              		.syntax unified
  64              		.thumb
  65              		.thumb_func
  66              		.fpu fpv4-sp-d16
  68              	ESP8266_Rst:
  69              	.LFB740:
  20:./Hardware/ESP8266/esp8266.c **** 
  21:./Hardware/ESP8266/esp8266.c **** /*
  22:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_Rst
  23:./Hardware/ESP8266/esp8266.c ****  * 描述  ：重启WF-ESP8266模块
  24:./Hardware/ESP8266/esp8266.c ****  * 输入  ：无
  25:./Hardware/ESP8266/esp8266.c ****  * 返回  : 无
  26:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被 ESP8266_AT_Test 调用
  27:./Hardware/ESP8266/esp8266.c ****  */
  28:./Hardware/ESP8266/esp8266.c **** void ESP8266_Rst ( void )
  29:./Hardware/ESP8266/esp8266.c **** {
  70              		.loc 1 29 1 is_stmt 1 view -0
  71              		.cfi_startproc
  72              		@ args = 0, pretend = 0, frame = 0
  73              		@ frame_needed = 0, uses_anonymous_args = 0
  74 0000 10B5     		push	{r4, lr}
  75              	.LCFI1:
  76              		.cfi_def_cfa_offset 8
  77              		.cfi_offset 4, -8
  78              		.cfi_offset 14, -4
  30:./Hardware/ESP8266/esp8266.c **** 	#if 0
  31:./Hardware/ESP8266/esp8266.c **** 	 ESP8266_Cmd ( "AT+RST", "OK", "ready", 2500 );   	
  32:./Hardware/ESP8266/esp8266.c **** 	
  33:./Hardware/ESP8266/esp8266.c **** 	#else
  34:./Hardware/ESP8266/esp8266.c **** 	 macESP8266_RST_LOW_LEVEL();
  79              		.loc 1 34 3 view .LVU5
  80 0002 084C     		ldr	r4, .L7
  81 0004 0022     		movs	r2, #0
  82 0006 1021     		movs	r1, #16
  83 0008 2046     		mov	r0, r4
ARM GAS  /tmp/ccZTlMdj.s 			page 3


  84 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
  85              	.LVL2:
  35:./Hardware/ESP8266/esp8266.c **** 	 HAL_Delay ( 500 ); 
  86              		.loc 1 35 3 view .LVU6
  87 000e 4FF4FA70 		mov	r0, #500
  88 0012 FFF7FEFF 		bl	HAL_Delay
  89              	.LVL3:
  36:./Hardware/ESP8266/esp8266.c **** 	 macESP8266_RST_HIGH_LEVEL();
  90              		.loc 1 36 3 view .LVU7
  91 0016 0122     		movs	r2, #1
  92 0018 1021     		movs	r1, #16
  93 001a 2046     		mov	r0, r4
  94 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
  95              	.LVL4:
  37:./Hardware/ESP8266/esp8266.c **** 	#endif
  38:./Hardware/ESP8266/esp8266.c **** 
  39:./Hardware/ESP8266/esp8266.c **** }
  96              		.loc 1 39 1 is_stmt 0 view .LVU8
  97 0020 10BD     		pop	{r4, pc}
  98              	.L8:
  99 0022 00BF     		.align	2
 100              	.L7:
 101 0024 00000240 		.word	1073872896
 102              		.cfi_endproc
 103              	.LFE740:
 105              		.section	.rodata.ESP8266_Cmd.str1.4,"aMS",%progbits,1
 106              		.align	2
 107              	.LC0:
 108 0000 25730D0A 		.ascii	"%s\015\012\000"
 108      00
 109 0005 000000   		.align	2
 110              	.LC1:
 111 0008 257300   		.ascii	"%s\000"
 112              		.section	.text.ESP8266_Cmd,"ax",%progbits
 113              		.align	1
 114              		.global	ESP8266_Cmd
 115              		.syntax unified
 116              		.thumb
 117              		.thumb_func
 118              		.fpu fpv4-sp-d16
 120              	ESP8266_Cmd:
 121              	.LVL5:
 122              	.LFB741:
  40:./Hardware/ESP8266/esp8266.c **** 
  41:./Hardware/ESP8266/esp8266.c **** 
  42:./Hardware/ESP8266/esp8266.c **** /*
  43:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_Cmd
  44:./Hardware/ESP8266/esp8266.c ****  * 描述  ：对WF-ESP8266模块发送AT指令
  45:./Hardware/ESP8266/esp8266.c ****  * 输入  ：cmd，待发送的指令
  46:./Hardware/ESP8266/esp8266.c ****  *         reply1，reply2，期待的响应，为NULL表不需响应，两者为或逻辑关系
  47:./Hardware/ESP8266/esp8266.c ****  *         waittime，等待响应的时间
  48:./Hardware/ESP8266/esp8266.c ****  * 返回  : 1，指令发送成功
  49:./Hardware/ESP8266/esp8266.c ****  *         0，指令发送失败
  50:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
  51:./Hardware/ESP8266/esp8266.c ****  */
  52:./Hardware/ESP8266/esp8266.c **** bool ESP8266_Cmd ( char * cmd, char * reply1, char * reply2, uint32_t waittime )
  53:./Hardware/ESP8266/esp8266.c **** {    
ARM GAS  /tmp/ccZTlMdj.s 			page 4


 123              		.loc 1 53 1 is_stmt 1 view -0
 124              		.cfi_startproc
 125              		@ args = 0, pretend = 0, frame = 0
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127              		.loc 1 53 1 is_stmt 0 view .LVU10
 128 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 129              	.LCFI2:
 130              		.cfi_def_cfa_offset 24
 131              		.cfi_offset 3, -24
 132              		.cfi_offset 4, -20
 133              		.cfi_offset 5, -16
 134              		.cfi_offset 6, -12
 135              		.cfi_offset 7, -8
 136              		.cfi_offset 14, -4
 137 0002 0D46     		mov	r5, r1
 138 0004 1646     		mov	r6, r2
 139 0006 1C46     		mov	r4, r3
  54:./Hardware/ESP8266/esp8266.c **** 	strEsp8266_Fram_Record .InfBit .FramLength = 0;               //从新开始接收新的数据包
 140              		.loc 1 54 2 is_stmt 1 view .LVU11
 141              		.loc 1 54 45 is_stmt 0 view .LVU12
 142 0008 264B     		ldr	r3, .L21
 143              	.LVL6:
 144              		.loc 1 54 45 view .LVU13
 145 000a B3F80024 		ldrh	r2, [r3, #1024]
 146              	.LVL7:
 147              		.loc 1 54 45 view .LVU14
 148 000e 6FF30E02 		bfc	r2, #0, #15
 149 0012 A3F80024 		strh	r2, [r3, #1024]	@ movhi
  55:./Hardware/ESP8266/esp8266.c **** 
  56:./Hardware/ESP8266/esp8266.c **** 	macESP8266_Usart ( "%s\r\n", cmd );
 150              		.loc 1 56 2 is_stmt 1 view .LVU15
 151 0016 0246     		mov	r2, r0
 152 0018 2349     		ldr	r1, .L21+4
 153              	.LVL8:
 154              		.loc 1 56 2 is_stmt 0 view .LVU16
 155 001a 2448     		ldr	r0, .L21+8
 156              	.LVL9:
 157              		.loc 1 56 2 view .LVU17
 158 001c FFF7FEFF 		bl	USART_printf
 159              	.LVL10:
  57:./Hardware/ESP8266/esp8266.c **** 
  58:./Hardware/ESP8266/esp8266.c **** 	if ( ( reply1 == 0 ) && ( reply2 == 0 ) )                      //不需要接收数据
 160              		.loc 1 58 2 is_stmt 1 view .LVU18
 161              		.loc 1 58 5 is_stmt 0 view .LVU19
 162 0020 15B3     		cbz	r5, .L19
 163              	.L10:
  59:./Hardware/ESP8266/esp8266.c **** 		return true;
  60:./Hardware/ESP8266/esp8266.c **** 	
  61:./Hardware/ESP8266/esp8266.c **** 	HAL_Delay ( waittime );                 //延时
 164              		.loc 1 61 2 is_stmt 1 view .LVU20
 165 0022 2046     		mov	r0, r4
 166 0024 FFF7FEFF 		bl	HAL_Delay
 167              	.LVL11:
  62:./Hardware/ESP8266/esp8266.c **** 	
  63:./Hardware/ESP8266/esp8266.c **** 	strEsp8266_Fram_Record .Data_RX_BUF [ strEsp8266_Fram_Record .InfBit .FramLength ]  = '\0';
 168              		.loc 1 63 2 view .LVU21
 169              		.loc 1 63 71 is_stmt 0 view .LVU22
ARM GAS  /tmp/ccZTlMdj.s 			page 5


 170 0028 1E4C     		ldr	r4, .L21
 171              	.LVL12:
 172              		.loc 1 63 71 view .LVU23
 173 002a B4F80034 		ldrh	r3, [r4, #1024]
 174 002e C3F30E03 		ubfx	r3, r3, #0, #15
 175              		.loc 1 63 86 view .LVU24
 176 0032 0027     		movs	r7, #0
 177 0034 E754     		strb	r7, [r4, r3]
  64:./Hardware/ESP8266/esp8266.c **** 
  65:./Hardware/ESP8266/esp8266.c **** 	macPC_Usart ( "%s", strEsp8266_Fram_Record .Data_RX_BUF );
 178              		.loc 1 65 2 is_stmt 1 view .LVU25
 179 0036 2146     		mov	r1, r4
 180 0038 1D48     		ldr	r0, .L21+12
 181 003a FFF7FEFF 		bl	printf
 182              	.LVL13:
  66:./Hardware/ESP8266/esp8266.c ****   strEsp8266_Fram_Record .InfBit .FramLength = 0;                             //清除接收标志
 183              		.loc 1 66 3 view .LVU26
 184              		.loc 1 66 46 is_stmt 0 view .LVU27
 185 003e B4F80034 		ldrh	r3, [r4, #1024]
 186 0042 67F30E03 		bfi	r3, r7, #0, #15
 187 0046 A4F80034 		strh	r3, [r4, #1024]	@ movhi
  67:./Hardware/ESP8266/esp8266.c **** 	strEsp8266_Fram_Record.InfBit.FramFinishFlag = 0;                             
 188              		.loc 1 67 2 is_stmt 1 view .LVU28
 189              		.loc 1 67 47 is_stmt 0 view .LVU29
 190 004a B4F80034 		ldrh	r3, [r4, #1024]
 191 004e 67F3CF33 		bfi	r3, r7, #15, #1
 192 0052 A4F80034 		strh	r3, [r4, #1024]	@ movhi
  68:./Hardware/ESP8266/esp8266.c **** 	if ( ( reply1 != 0 ) && ( reply2 != 0 ) )
 193              		.loc 1 68 2 is_stmt 1 view .LVU30
 194              		.loc 1 68 5 is_stmt 0 view .LVU31
 195 0056 A5B1     		cbz	r5, .L12
 196              		.loc 1 68 23 discriminator 1 view .LVU32
 197 0058 9EB1     		cbz	r6, .L12
  69:./Hardware/ESP8266/esp8266.c **** 		return ( ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply1 ) || 
 198              		.loc 1 69 3 is_stmt 1 view .LVU33
 199              		.loc 1 69 21 is_stmt 0 view .LVU34
 200 005a 2946     		mov	r1, r5
 201 005c 2046     		mov	r0, r4
 202 005e FFF7FEFF 		bl	strstr
 203              	.LVL14:
 204              		.loc 1 69 76 view .LVU35
 205 0062 28B1     		cbz	r0, .L20
 206 0064 0120     		movs	r0, #1
 207 0066 14E0     		b	.L11
 208              	.LVL15:
 209              	.L19:
  58:./Hardware/ESP8266/esp8266.c **** 		return true;
 210              		.loc 1 58 23 discriminator 1 view .LVU36
 211 0068 002E     		cmp	r6, #0
 212 006a DAD1     		bne	.L10
  59:./Hardware/ESP8266/esp8266.c **** 	
 213              		.loc 1 59 10 view .LVU37
 214 006c 0120     		movs	r0, #1
 215 006e 10E0     		b	.L11
 216              	.LVL16:
 217              	.L20:
  70:./Hardware/ESP8266/esp8266.c **** 						 ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply2 ) ); 
ARM GAS  /tmp/ccZTlMdj.s 			page 6


 218              		.loc 1 70 17 discriminator 2 view .LVU38
 219 0070 3146     		mov	r1, r6
 220 0072 2046     		mov	r0, r4
 221 0074 FFF7FEFF 		bl	strstr
 222              	.LVL17:
  69:./Hardware/ESP8266/esp8266.c **** 						 ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply2 ) ); 
 223              		.loc 1 69 76 discriminator 2 view .LVU39
 224 0078 08B1     		cbz	r0, .L17
  69:./Hardware/ESP8266/esp8266.c **** 						 ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply2 ) ); 
 225              		.loc 1 69 76 view .LVU40
 226 007a 0120     		movs	r0, #1
 227 007c 09E0     		b	.L11
 228              	.L17:
 229 007e 0020     		movs	r0, #0
 230 0080 07E0     		b	.L11
 231              	.L12:
  71:./Hardware/ESP8266/esp8266.c ****  	
  72:./Hardware/ESP8266/esp8266.c **** 	else if ( reply1 != 0 )
 232              		.loc 1 72 7 is_stmt 1 view .LVU41
 233              		.loc 1 72 10 is_stmt 0 view .LVU42
 234 0082 3DB1     		cbz	r5, .L14
  73:./Hardware/ESP8266/esp8266.c **** 		return ( ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply1 ) );
 235              		.loc 1 73 3 is_stmt 1 view .LVU43
 236              		.loc 1 73 21 is_stmt 0 view .LVU44
 237 0084 2946     		mov	r1, r5
 238 0086 0748     		ldr	r0, .L21
 239 0088 FFF7FEFF 		bl	strstr
 240              	.LVL18:
 241              		.loc 1 73 12 view .LVU45
 242 008c 0038     		subs	r0, r0, #0
 243 008e 18BF     		it	ne
 244 0090 0120     		movne	r0, #1
 245              	.L11:
  74:./Hardware/ESP8266/esp8266.c **** 	
  75:./Hardware/ESP8266/esp8266.c **** 	else
  76:./Hardware/ESP8266/esp8266.c **** 		return ( ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply2 ) );
  77:./Hardware/ESP8266/esp8266.c **** 	
  78:./Hardware/ESP8266/esp8266.c **** }
 246              		.loc 1 78 1 view .LVU46
 247 0092 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 248              	.LVL19:
 249              	.L14:
  76:./Hardware/ESP8266/esp8266.c **** 	
 250              		.loc 1 76 3 is_stmt 1 view .LVU47
  76:./Hardware/ESP8266/esp8266.c **** 	
 251              		.loc 1 76 21 is_stmt 0 view .LVU48
 252 0094 3146     		mov	r1, r6
 253 0096 0348     		ldr	r0, .L21
 254 0098 FFF7FEFF 		bl	strstr
 255              	.LVL20:
  76:./Hardware/ESP8266/esp8266.c **** 	
 256              		.loc 1 76 12 view .LVU49
 257 009c 0038     		subs	r0, r0, #0
 258 009e 18BF     		it	ne
 259 00a0 0120     		movne	r0, #1
 260 00a2 F6E7     		b	.L11
 261              	.L22:
ARM GAS  /tmp/ccZTlMdj.s 			page 7


 262              		.align	2
 263              	.L21:
 264 00a4 00000000 		.word	.LANCHOR0
 265 00a8 00000000 		.word	.LC0
 266 00ac 00440040 		.word	1073759232
 267 00b0 08000000 		.word	.LC1
 268              		.cfi_endproc
 269              	.LFE741:
 271              		.section	.rodata.ESP8266_AT_Test.str1.4,"aMS",%progbits,1
 272              		.align	2
 273              	.LC2:
 274 0000 0D0A4154 		.ascii	"\015\012AT test.....\015\000"
 274      20746573 
 274      742E2E2E 
 274      2E2E0D00 
 275              		.align	2
 276              	.LC3:
 277 0010 0D0A4154 		.ascii	"\015\012AT Testing frequency: %d......\015\012\000"
 277      20546573 
 277      74696E67 
 277      20667265 
 277      7175656E 
 278 0033 00       		.align	2
 279              	.LC4:
 280 0034 4F4B00   		.ascii	"OK\000"
 281 0037 00       		.align	2
 282              	.LC5:
 283 0038 415400   		.ascii	"AT\000"
 284 003b 00       		.align	2
 285              	.LC6:
 286 003c 0D0A4154 		.ascii	"\015\012AT Test started successfully: %d......\015\012"
 286      20546573 
 286      74207374 
 286      61727465 
 286      64207375 
 287 0066 00       		.ascii	"\000"
 288              		.section	.text.ESP8266_AT_Test,"ax",%progbits
 289              		.align	1
 290              		.global	ESP8266_AT_Test
 291              		.syntax unified
 292              		.thumb
 293              		.thumb_func
 294              		.fpu fpv4-sp-d16
 296              	ESP8266_AT_Test:
 297              	.LFB742:
  79:./Hardware/ESP8266/esp8266.c **** 
  80:./Hardware/ESP8266/esp8266.c **** bool ESP8266_AT_Test ( void )
  81:./Hardware/ESP8266/esp8266.c **** {
 298              		.loc 1 81 1 is_stmt 1 view -0
 299              		.cfi_startproc
 300              		@ args = 0, pretend = 0, frame = 0
 301              		@ frame_needed = 0, uses_anonymous_args = 0
 302 0000 70B5     		push	{r4, r5, r6, lr}
 303              	.LCFI3:
 304              		.cfi_def_cfa_offset 16
 305              		.cfi_offset 4, -16
 306              		.cfi_offset 5, -12
ARM GAS  /tmp/ccZTlMdj.s 			page 8


 307              		.cfi_offset 6, -8
 308              		.cfi_offset 14, -4
  82:./Hardware/ESP8266/esp8266.c **** 	char count=0;
 309              		.loc 1 82 2 view .LVU51
 310              	.LVL21:
  83:./Hardware/ESP8266/esp8266.c **** 	
  84:./Hardware/ESP8266/esp8266.c **** 	macESP8266_RST_HIGH_LEVEL();	
 311              		.loc 1 84 2 view .LVU52
 312 0002 0122     		movs	r2, #1
 313 0004 1021     		movs	r1, #16
 314 0006 1348     		ldr	r0, .L31
 315 0008 FFF7FEFF 		bl	HAL_GPIO_WritePin
 316              	.LVL22:
  85:./Hardware/ESP8266/esp8266.c ****   printf("\r\nAT test.....\r\n");
 317              		.loc 1 85 3 view .LVU53
 318 000c 1248     		ldr	r0, .L31+4
 319 000e FFF7FEFF 		bl	puts
 320              	.LVL23:
  86:./Hardware/ESP8266/esp8266.c **** 	HAL_Delay ( 2000 );
 321              		.loc 1 86 2 view .LVU54
 322 0012 4FF4FA60 		mov	r0, #2000
 323 0016 FFF7FEFF 		bl	HAL_Delay
 324              	.LVL24:
  87:./Hardware/ESP8266/esp8266.c **** 	while ( count < 10 )
 325              		.loc 1 87 2 view .LVU55
  82:./Hardware/ESP8266/esp8266.c **** 	
 326              		.loc 1 82 7 is_stmt 0 view .LVU56
 327 001a 0024     		movs	r4, #0
 328              	.LVL25:
 329              	.L24:
 330              		.loc 1 87 8 is_stmt 1 view .LVU57
 331 001c 092C     		cmp	r4, #9
 332 001e 16D8     		bhi	.L29
  88:./Hardware/ESP8266/esp8266.c **** 	{
  89:./Hardware/ESP8266/esp8266.c ****     	printf("\r\nAT Testing frequency: %d......\r\n", count);
 333              		.loc 1 89 6 view .LVU58
 334 0020 2146     		mov	r1, r4
 335 0022 0E48     		ldr	r0, .L31+8
 336 0024 FFF7FEFF 		bl	printf
 337              	.LVL26:
  90:./Hardware/ESP8266/esp8266.c **** 		if( ESP8266_Cmd ( "AT", "OK", NULL, 500 ) )
 338              		.loc 1 90 3 view .LVU59
 339              		.loc 1 90 7 is_stmt 0 view .LVU60
 340 0028 4FF4FA73 		mov	r3, #500
 341 002c 0022     		movs	r2, #0
 342 002e 0C49     		ldr	r1, .L31+12
 343 0030 0C48     		ldr	r0, .L31+16
 344 0032 FFF7FEFF 		bl	ESP8266_Cmd
 345              	.LVL27:
 346              		.loc 1 90 5 view .LVU61
 347 0036 0546     		mov	r5, r0
 348 0038 20B9     		cbnz	r0, .L30
  91:./Hardware/ESP8266/esp8266.c **** 		{
  92:./Hardware/ESP8266/esp8266.c **** 		printf("\r\nAT Test started successfully: %d......\r\n", count);
  93:./Hardware/ESP8266/esp8266.c **** 		return 1;
  94:./Hardware/ESP8266/esp8266.c **** 		}
  95:./Hardware/ESP8266/esp8266.c **** 		ESP8266_Rst();
ARM GAS  /tmp/ccZTlMdj.s 			page 9


 349              		.loc 1 95 3 is_stmt 1 view .LVU62
 350 003a FFF7FEFF 		bl	ESP8266_Rst
 351              	.LVL28:
  96:./Hardware/ESP8266/esp8266.c **** 		++ count;
 352              		.loc 1 96 3 view .LVU63
 353 003e 0134     		adds	r4, r4, #1
 354              	.LVL29:
 355              		.loc 1 96 3 is_stmt 0 view .LVU64
 356 0040 E4B2     		uxtb	r4, r4
 357              	.LVL30:
 358              		.loc 1 96 3 view .LVU65
 359 0042 EBE7     		b	.L24
 360              	.L30:
  92:./Hardware/ESP8266/esp8266.c **** 		return 1;
 361              		.loc 1 92 3 is_stmt 1 view .LVU66
 362 0044 2146     		mov	r1, r4
 363 0046 0848     		ldr	r0, .L31+20
 364 0048 FFF7FEFF 		bl	printf
 365              	.LVL31:
  93:./Hardware/ESP8266/esp8266.c **** 		}
 366              		.loc 1 93 3 view .LVU67
  93:./Hardware/ESP8266/esp8266.c **** 		}
 367              		.loc 1 93 10 is_stmt 0 view .LVU68
 368 004c 00E0     		b	.L26
 369              	.L29:
  97:./Hardware/ESP8266/esp8266.c **** 	}
  98:./Hardware/ESP8266/esp8266.c ****   return 0;
 370              		.loc 1 98 10 view .LVU69
 371 004e 0025     		movs	r5, #0
 372              	.L26:
  99:./Hardware/ESP8266/esp8266.c **** }
 373              		.loc 1 99 1 view .LVU70
 374 0050 2846     		mov	r0, r5
 375 0052 70BD     		pop	{r4, r5, r6, pc}
 376              	.LVL32:
 377              	.L32:
 378              		.loc 1 99 1 view .LVU71
 379              		.align	2
 380              	.L31:
 381 0054 00000240 		.word	1073872896
 382 0058 00000000 		.word	.LC2
 383 005c 10000000 		.word	.LC3
 384 0060 34000000 		.word	.LC4
 385 0064 38000000 		.word	.LC5
 386 0068 3C000000 		.word	.LC6
 387              		.cfi_endproc
 388              	.LFE742:
 390              		.section	.rodata.ESP8266_Net_Mode_Choose.str1.4,"aMS",%progbits,1
 391              		.align	2
 392              	.LC7:
 393 0000 6E6F2063 		.ascii	"no change\000"
 393      68616E67 
 393      6500
 394 000a 0000     		.align	2
 395              	.LC8:
 396 000c 41542B43 		.ascii	"AT+CWMODE=1\000"
 396      574D4F44 
ARM GAS  /tmp/ccZTlMdj.s 			page 10


 396      453D3100 
 397              		.align	2
 398              	.LC9:
 399 0018 41542B43 		.ascii	"AT+CWMODE=2\000"
 399      574D4F44 
 399      453D3200 
 400              		.align	2
 401              	.LC10:
 402 0024 41542B43 		.ascii	"AT+CWMODE=3\000"
 402      574D4F44 
 402      453D3300 
 403              		.section	.text.ESP8266_Net_Mode_Choose,"ax",%progbits
 404              		.align	1
 405              		.global	ESP8266_Net_Mode_Choose
 406              		.syntax unified
 407              		.thumb
 408              		.thumb_func
 409              		.fpu fpv4-sp-d16
 411              	ESP8266_Net_Mode_Choose:
 412              	.LVL33:
 413              	.LFB743:
 100:./Hardware/ESP8266/esp8266.c **** 
 101:./Hardware/ESP8266/esp8266.c **** /*
 102:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_Net_Mode_Choose
 103:./Hardware/ESP8266/esp8266.c ****  * 描述  ：选择WF-ESP8266模块的工作模式
 104:./Hardware/ESP8266/esp8266.c ****  * 输入  ：enumMode，工作模式
 105:./Hardware/ESP8266/esp8266.c ****  * 返回  : 1，选择成功
 106:./Hardware/ESP8266/esp8266.c ****  *         0，选择失败
 107:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 108:./Hardware/ESP8266/esp8266.c ****  */
 109:./Hardware/ESP8266/esp8266.c **** bool ESP8266_Net_Mode_Choose ( ENUM_Net_ModeTypeDef enumMode )
 110:./Hardware/ESP8266/esp8266.c **** {
 414              		.loc 1 110 1 is_stmt 1 view -0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 0
 417              		@ frame_needed = 0, uses_anonymous_args = 0
 418              		.loc 1 110 1 is_stmt 0 view .LVU73
 419 0000 08B5     		push	{r3, lr}
 420              	.LCFI4:
 421              		.cfi_def_cfa_offset 8
 422              		.cfi_offset 3, -8
 423              		.cfi_offset 14, -4
 111:./Hardware/ESP8266/esp8266.c **** 	switch ( enumMode )
 424              		.loc 1 111 2 is_stmt 1 view .LVU74
 425 0002 0128     		cmp	r0, #1
 426 0004 0CD0     		beq	.L34
 427 0006 0228     		cmp	r0, #2
 428 0008 12D0     		beq	.L35
 429 000a 08B1     		cbz	r0, .L39
 430 000c 0020     		movs	r0, #0
 431              	.LVL34:
 432              	.L36:
 112:./Hardware/ESP8266/esp8266.c **** 	{
 113:./Hardware/ESP8266/esp8266.c **** 		case STA:
 114:./Hardware/ESP8266/esp8266.c **** 			return ESP8266_Cmd ( "AT+CWMODE=1", "OK", "no change", 2500 ); 
 115:./Hardware/ESP8266/esp8266.c **** 		
 116:./Hardware/ESP8266/esp8266.c **** 	  case AP:
ARM GAS  /tmp/ccZTlMdj.s 			page 11


 117:./Hardware/ESP8266/esp8266.c **** 		  return ESP8266_Cmd ( "AT+CWMODE=2", "OK", "no change", 2500 ); 
 118:./Hardware/ESP8266/esp8266.c **** 		
 119:./Hardware/ESP8266/esp8266.c **** 		case STA_AP:
 120:./Hardware/ESP8266/esp8266.c **** 		  return ESP8266_Cmd ( "AT+CWMODE=3", "OK", "no change", 2500 ); 
 121:./Hardware/ESP8266/esp8266.c **** 		
 122:./Hardware/ESP8266/esp8266.c **** 	  default:
 123:./Hardware/ESP8266/esp8266.c **** 		  return false;
 124:./Hardware/ESP8266/esp8266.c ****   }
 125:./Hardware/ESP8266/esp8266.c **** 	
 126:./Hardware/ESP8266/esp8266.c **** }
 433              		.loc 1 126 1 is_stmt 0 view .LVU75
 434 000e 08BD     		pop	{r3, pc}
 435              	.LVL35:
 436              	.L39:
 114:./Hardware/ESP8266/esp8266.c **** 		
 437              		.loc 1 114 4 is_stmt 1 view .LVU76
 114:./Hardware/ESP8266/esp8266.c **** 		
 438              		.loc 1 114 11 is_stmt 0 view .LVU77
 439 0010 40F6C413 		movw	r3, #2500
 440 0014 0A4A     		ldr	r2, .L40
 441 0016 0B49     		ldr	r1, .L40+4
 442 0018 0B48     		ldr	r0, .L40+8
 443              	.LVL36:
 114:./Hardware/ESP8266/esp8266.c **** 		
 444              		.loc 1 114 11 view .LVU78
 445 001a FFF7FEFF 		bl	ESP8266_Cmd
 446              	.LVL37:
 447 001e F6E7     		b	.L36
 448              	.LVL38:
 449              	.L34:
 117:./Hardware/ESP8266/esp8266.c **** 		
 450              		.loc 1 117 5 is_stmt 1 view .LVU79
 117:./Hardware/ESP8266/esp8266.c **** 		
 451              		.loc 1 117 12 is_stmt 0 view .LVU80
 452 0020 40F6C413 		movw	r3, #2500
 453 0024 064A     		ldr	r2, .L40
 454 0026 0749     		ldr	r1, .L40+4
 455 0028 0848     		ldr	r0, .L40+12
 456              	.LVL39:
 117:./Hardware/ESP8266/esp8266.c **** 		
 457              		.loc 1 117 12 view .LVU81
 458 002a FFF7FEFF 		bl	ESP8266_Cmd
 459              	.LVL40:
 460 002e EEE7     		b	.L36
 461              	.LVL41:
 462              	.L35:
 120:./Hardware/ESP8266/esp8266.c **** 		
 463              		.loc 1 120 5 is_stmt 1 view .LVU82
 120:./Hardware/ESP8266/esp8266.c **** 		
 464              		.loc 1 120 12 is_stmt 0 view .LVU83
 465 0030 40F6C413 		movw	r3, #2500
 466 0034 024A     		ldr	r2, .L40
 467 0036 0349     		ldr	r1, .L40+4
 468 0038 0548     		ldr	r0, .L40+16
 469              	.LVL42:
 120:./Hardware/ESP8266/esp8266.c **** 		
 470              		.loc 1 120 12 view .LVU84
ARM GAS  /tmp/ccZTlMdj.s 			page 12


 471 003a FFF7FEFF 		bl	ESP8266_Cmd
 472              	.LVL43:
 473 003e E6E7     		b	.L36
 474              	.L41:
 475              		.align	2
 476              	.L40:
 477 0040 00000000 		.word	.LC7
 478 0044 34000000 		.word	.LC4
 479 0048 0C000000 		.word	.LC8
 480 004c 18000000 		.word	.LC9
 481 0050 24000000 		.word	.LC10
 482              		.cfi_endproc
 483              	.LFE743:
 485              		.section	.rodata.ESP8266_JoinAP.str1.4,"aMS",%progbits,1
 486              		.align	2
 487              	.LC11:
 488 0000 41542B43 		.ascii	"AT+CWJAP=\"%s\",\"%s\"\000"
 488      574A4150 
 488      3D222573 
 488      222C2225 
 488      732200
 489              		.section	.text.ESP8266_JoinAP,"ax",%progbits
 490              		.align	1
 491              		.global	ESP8266_JoinAP
 492              		.syntax unified
 493              		.thumb
 494              		.thumb_func
 495              		.fpu fpv4-sp-d16
 497              	ESP8266_JoinAP:
 498              	.LVL44:
 499              	.LFB744:
 127:./Hardware/ESP8266/esp8266.c **** 
 128:./Hardware/ESP8266/esp8266.c **** /*
 129:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_JoinAP
 130:./Hardware/ESP8266/esp8266.c ****  * 描述  ：WF-ESP8266模块连接外部WiFi
 131:./Hardware/ESP8266/esp8266.c ****  * 输入  ：pSSID，WiFi名称字符串
 132:./Hardware/ESP8266/esp8266.c ****  *       ：pPassWord，WiFi密码字符串
 133:./Hardware/ESP8266/esp8266.c ****  * 返回  : 1，连接成功
 134:./Hardware/ESP8266/esp8266.c ****  *         0，连接失败
 135:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 136:./Hardware/ESP8266/esp8266.c ****  */
 137:./Hardware/ESP8266/esp8266.c **** bool ESP8266_JoinAP ( char * pSSID, char * pPassWord )
 138:./Hardware/ESP8266/esp8266.c **** {
 500              		.loc 1 138 1 is_stmt 1 view -0
 501              		.cfi_startproc
 502              		@ args = 0, pretend = 0, frame = 120
 503              		@ frame_needed = 0, uses_anonymous_args = 0
 504              		.loc 1 138 1 is_stmt 0 view .LVU86
 505 0000 00B5     		push	{lr}
 506              	.LCFI5:
 507              		.cfi_def_cfa_offset 4
 508              		.cfi_offset 14, -4
 509 0002 9FB0     		sub	sp, sp, #124
 510              	.LCFI6:
 511              		.cfi_def_cfa_offset 128
 512 0004 0246     		mov	r2, r0
 513 0006 0B46     		mov	r3, r1
ARM GAS  /tmp/ccZTlMdj.s 			page 13


 139:./Hardware/ESP8266/esp8266.c **** 	char cCmd [120];
 514              		.loc 1 139 2 is_stmt 1 view .LVU87
 140:./Hardware/ESP8266/esp8266.c **** 
 141:./Hardware/ESP8266/esp8266.c **** 	sprintf ( cCmd, "AT+CWJAP=\"%s\",\"%s\"", pSSID, pPassWord );
 515              		.loc 1 141 2 view .LVU88
 516 0008 0649     		ldr	r1, .L44
 517              	.LVL45:
 518              		.loc 1 141 2 is_stmt 0 view .LVU89
 519 000a 6846     		mov	r0, sp
 520              	.LVL46:
 521              		.loc 1 141 2 view .LVU90
 522 000c FFF7FEFF 		bl	sprintf
 523              	.LVL47:
 142:./Hardware/ESP8266/esp8266.c **** 	
 143:./Hardware/ESP8266/esp8266.c **** 	return ESP8266_Cmd ( cCmd, "OK", NULL, 5000 );
 524              		.loc 1 143 2 is_stmt 1 view .LVU91
 525              		.loc 1 143 9 is_stmt 0 view .LVU92
 526 0010 41F28833 		movw	r3, #5000
 527 0014 0022     		movs	r2, #0
 528 0016 0449     		ldr	r1, .L44+4
 529 0018 6846     		mov	r0, sp
 530 001a FFF7FEFF 		bl	ESP8266_Cmd
 531              	.LVL48:
 144:./Hardware/ESP8266/esp8266.c **** 	
 145:./Hardware/ESP8266/esp8266.c **** }
 532              		.loc 1 145 1 view .LVU93
 533 001e 1FB0     		add	sp, sp, #124
 534              	.LCFI7:
 535              		.cfi_def_cfa_offset 4
 536              		@ sp needed
 537 0020 5DF804FB 		ldr	pc, [sp], #4
 538              	.L45:
 539              		.align	2
 540              	.L44:
 541 0024 00000000 		.word	.LC11
 542 0028 34000000 		.word	.LC4
 543              		.cfi_endproc
 544              	.LFE744:
 546              		.section	.rodata.ESP8266_BuildAP.str1.4,"aMS",%progbits,1
 547              		.align	2
 548              	.LC12:
 549 0000 41542B43 		.ascii	"AT+CWSAP=\"%s\",\"%s\",1,%d\000"
 549      57534150 
 549      3D222573 
 549      222C2225 
 549      73222C31 
 550              		.section	.text.ESP8266_BuildAP,"ax",%progbits
 551              		.align	1
 552              		.global	ESP8266_BuildAP
 553              		.syntax unified
 554              		.thumb
 555              		.thumb_func
 556              		.fpu fpv4-sp-d16
 558              	ESP8266_BuildAP:
 559              	.LVL49:
 560              	.LFB745:
 146:./Hardware/ESP8266/esp8266.c **** 
ARM GAS  /tmp/ccZTlMdj.s 			page 14


 147:./Hardware/ESP8266/esp8266.c **** /*
 148:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_BuildAP
 149:./Hardware/ESP8266/esp8266.c ****  * 描述  ：WF-ESP8266模块创建WiFi热点
 150:./Hardware/ESP8266/esp8266.c ****  * 输入  ：pSSID，WiFi名称字符串
 151:./Hardware/ESP8266/esp8266.c ****  *       ：pPassWord，WiFi密码字符串
 152:./Hardware/ESP8266/esp8266.c ****  *       ：enunPsdMode，WiFi加密方式代号字符串
 153:./Hardware/ESP8266/esp8266.c ****  * 返回  : 1，创建成功
 154:./Hardware/ESP8266/esp8266.c ****  *         0，创建失败
 155:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 156:./Hardware/ESP8266/esp8266.c ****  */
 157:./Hardware/ESP8266/esp8266.c **** bool ESP8266_BuildAP ( char * pSSID, char * pPassWord, ENUM_AP_PsdMode_TypeDef enunPsdMode )
 158:./Hardware/ESP8266/esp8266.c **** {
 561              		.loc 1 158 1 is_stmt 1 view -0
 562              		.cfi_startproc
 563              		@ args = 0, pretend = 0, frame = 120
 564              		@ frame_needed = 0, uses_anonymous_args = 0
 565              		.loc 1 158 1 is_stmt 0 view .LVU95
 566 0000 00B5     		push	{lr}
 567              	.LCFI8:
 568              		.cfi_def_cfa_offset 4
 569              		.cfi_offset 14, -4
 570 0002 A1B0     		sub	sp, sp, #132
 571              	.LCFI9:
 572              		.cfi_def_cfa_offset 136
 573 0004 0B46     		mov	r3, r1
 159:./Hardware/ESP8266/esp8266.c **** 	char cCmd [120];
 574              		.loc 1 159 2 is_stmt 1 view .LVU96
 160:./Hardware/ESP8266/esp8266.c **** 
 161:./Hardware/ESP8266/esp8266.c **** 	sprintf ( cCmd, "AT+CWSAP=\"%s\",\"%s\",1,%d", pSSID, pPassWord, enunPsdMode );
 575              		.loc 1 161 2 view .LVU97
 576 0006 0092     		str	r2, [sp]
 577 0008 0246     		mov	r2, r0
 578              	.LVL50:
 579              		.loc 1 161 2 is_stmt 0 view .LVU98
 580 000a 0749     		ldr	r1, .L48
 581              	.LVL51:
 582              		.loc 1 161 2 view .LVU99
 583 000c 02A8     		add	r0, sp, #8
 584              	.LVL52:
 585              		.loc 1 161 2 view .LVU100
 586 000e FFF7FEFF 		bl	sprintf
 587              	.LVL53:
 162:./Hardware/ESP8266/esp8266.c **** 	
 163:./Hardware/ESP8266/esp8266.c **** 	return ESP8266_Cmd ( cCmd, "OK", 0, 1000 );
 588              		.loc 1 163 2 is_stmt 1 view .LVU101
 589              		.loc 1 163 9 is_stmt 0 view .LVU102
 590 0012 4FF47A73 		mov	r3, #1000
 591 0016 0022     		movs	r2, #0
 592 0018 0449     		ldr	r1, .L48+4
 593 001a 02A8     		add	r0, sp, #8
 594 001c FFF7FEFF 		bl	ESP8266_Cmd
 595              	.LVL54:
 164:./Hardware/ESP8266/esp8266.c **** 	
 165:./Hardware/ESP8266/esp8266.c **** }
 596              		.loc 1 165 1 view .LVU103
 597 0020 21B0     		add	sp, sp, #132
 598              	.LCFI10:
ARM GAS  /tmp/ccZTlMdj.s 			page 15


 599              		.cfi_def_cfa_offset 4
 600              		@ sp needed
 601 0022 5DF804FB 		ldr	pc, [sp], #4
 602              	.L49:
 603 0026 00BF     		.align	2
 604              	.L48:
 605 0028 00000000 		.word	.LC12
 606 002c 34000000 		.word	.LC4
 607              		.cfi_endproc
 608              	.LFE745:
 610              		.section	.rodata.ESP8266_Enable_MultipleId.str1.4,"aMS",%progbits,1
 611              		.align	2
 612              	.LC13:
 613 0000 41542B43 		.ascii	"AT+CIPMUX=%d\000"
 613      49504D55 
 613      583D2564 
 613      00
 614              		.section	.text.ESP8266_Enable_MultipleId,"ax",%progbits
 615              		.align	1
 616              		.global	ESP8266_Enable_MultipleId
 617              		.syntax unified
 618              		.thumb
 619              		.thumb_func
 620              		.fpu fpv4-sp-d16
 622              	ESP8266_Enable_MultipleId:
 623              	.LVL55:
 624              	.LFB746:
 166:./Hardware/ESP8266/esp8266.c **** 
 167:./Hardware/ESP8266/esp8266.c **** /*
 168:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_Enable_MultipleId
 169:./Hardware/ESP8266/esp8266.c ****  * 描述  ：WF-ESP8266模块启动多连接
 170:./Hardware/ESP8266/esp8266.c ****  * 输入  ：enumEnUnvarnishTx，配置是否多连接
 171:./Hardware/ESP8266/esp8266.c ****  * 返回  : 1，配置成功
 172:./Hardware/ESP8266/esp8266.c ****  *         0，配置失败
 173:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 174:./Hardware/ESP8266/esp8266.c ****  */
 175:./Hardware/ESP8266/esp8266.c **** bool ESP8266_Enable_MultipleId ( FunctionalState enumEnUnvarnishTx )
 176:./Hardware/ESP8266/esp8266.c **** {
 625              		.loc 1 176 1 is_stmt 1 view -0
 626              		.cfi_startproc
 627              		@ args = 0, pretend = 0, frame = 24
 628              		@ frame_needed = 0, uses_anonymous_args = 0
 629              		.loc 1 176 1 is_stmt 0 view .LVU105
 630 0000 00B5     		push	{lr}
 631              	.LCFI11:
 632              		.cfi_def_cfa_offset 4
 633              		.cfi_offset 14, -4
 634 0002 87B0     		sub	sp, sp, #28
 635              	.LCFI12:
 636              		.cfi_def_cfa_offset 32
 177:./Hardware/ESP8266/esp8266.c **** 	char cStr [20];
 637              		.loc 1 177 2 is_stmt 1 view .LVU106
 178:./Hardware/ESP8266/esp8266.c **** 	
 179:./Hardware/ESP8266/esp8266.c **** 	sprintf ( cStr, "AT+CIPMUX=%d", ( enumEnUnvarnishTx ? 1 : 0 ) );
 638              		.loc 1 179 2 view .LVU107
 639 0004 021E     		subs	r2, r0, #0
 640 0006 18BF     		it	ne
ARM GAS  /tmp/ccZTlMdj.s 			page 16


 641 0008 0122     		movne	r2, #1
 642 000a 0749     		ldr	r1, .L52
 643 000c 01A8     		add	r0, sp, #4
 644              	.LVL56:
 645              		.loc 1 179 2 is_stmt 0 view .LVU108
 646 000e FFF7FEFF 		bl	sprintf
 647              	.LVL57:
 180:./Hardware/ESP8266/esp8266.c **** 	
 181:./Hardware/ESP8266/esp8266.c **** 	return ESP8266_Cmd ( cStr, "OK", 0, 500 );
 648              		.loc 1 181 2 is_stmt 1 view .LVU109
 649              		.loc 1 181 9 is_stmt 0 view .LVU110
 650 0012 4FF4FA73 		mov	r3, #500
 651 0016 0022     		movs	r2, #0
 652 0018 0449     		ldr	r1, .L52+4
 653 001a 01A8     		add	r0, sp, #4
 654 001c FFF7FEFF 		bl	ESP8266_Cmd
 655              	.LVL58:
 182:./Hardware/ESP8266/esp8266.c **** 	
 183:./Hardware/ESP8266/esp8266.c **** }
 656              		.loc 1 183 1 view .LVU111
 657 0020 07B0     		add	sp, sp, #28
 658              	.LCFI13:
 659              		.cfi_def_cfa_offset 4
 660              		@ sp needed
 661 0022 5DF804FB 		ldr	pc, [sp], #4
 662              	.L53:
 663 0026 00BF     		.align	2
 664              	.L52:
 665 0028 00000000 		.word	.LC13
 666 002c 34000000 		.word	.LC4
 667              		.cfi_endproc
 668              	.LFE746:
 670              		.section	.rodata.ESP8266_Link_Server.str1.4,"aMS",%progbits,1
 671              		.align	2
 672              	.LC14:
 673 0000 54435000 		.ascii	"TCP\000"
 674              		.align	2
 675              	.LC15:
 676 0004 22257322 		.ascii	"\"%s\",\"%s\",%s\000"
 676      2C222573 
 676      222C2573 
 676      00
 677 0011 000000   		.align	2
 678              	.LC16:
 679 0014 55445000 		.ascii	"UDP\000"
 680              		.align	2
 681              	.LC17:
 682 0018 41542B43 		.ascii	"AT+CIPSTART=%d,%s\000"
 682      49505354 
 682      4152543D 
 682      25642C25 
 682      7300
 683 002a 0000     		.align	2
 684              	.LC18:
 685 002c 41542B43 		.ascii	"AT+CIPSTART=%s\000"
 685      49505354 
 685      4152543D 
ARM GAS  /tmp/ccZTlMdj.s 			page 17


 685      257300
 686 003b 00       		.align	2
 687              	.LC19:
 688 003c 414C5245 		.ascii	"ALREAY CONNECT\000"
 688      41592043 
 688      4F4E4E45 
 688      435400
 689              		.section	.text.ESP8266_Link_Server,"ax",%progbits
 690              		.align	1
 691              		.global	ESP8266_Link_Server
 692              		.syntax unified
 693              		.thumb
 694              		.thumb_func
 695              		.fpu fpv4-sp-d16
 697              	ESP8266_Link_Server:
 698              	.LVL59:
 699              	.LFB747:
 184:./Hardware/ESP8266/esp8266.c **** 
 185:./Hardware/ESP8266/esp8266.c **** /*
 186:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_Link_Server
 187:./Hardware/ESP8266/esp8266.c ****  * 描述  ：WF-ESP8266模块连接外部服务器
 188:./Hardware/ESP8266/esp8266.c ****  * 输入  ：enumE，网络协议
 189:./Hardware/ESP8266/esp8266.c ****  *       ：ip，服务器IP字符串
 190:./Hardware/ESP8266/esp8266.c ****  *       ：ComNum，服务器端口字符串
 191:./Hardware/ESP8266/esp8266.c ****  *       ：id，模块连接服务器的ID
 192:./Hardware/ESP8266/esp8266.c ****  * 返回  : 1，连接成功
 193:./Hardware/ESP8266/esp8266.c ****  *         0，连接失败
 194:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 195:./Hardware/ESP8266/esp8266.c ****  */
 196:./Hardware/ESP8266/esp8266.c **** bool ESP8266_Link_Server ( ENUM_NetPro_TypeDef enumE, char * ip, char * ComNum, ENUM_ID_NO_TypeDef 
 197:./Hardware/ESP8266/esp8266.c **** {
 700              		.loc 1 197 1 is_stmt 1 view -0
 701              		.cfi_startproc
 702              		@ args = 0, pretend = 0, frame = 224
 703              		@ frame_needed = 0, uses_anonymous_args = 0
 704              		.loc 1 197 1 is_stmt 0 view .LVU113
 705 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 706              	.LCFI14:
 707              		.cfi_def_cfa_offset 20
 708              		.cfi_offset 4, -20
 709              		.cfi_offset 5, -16
 710              		.cfi_offset 6, -12
 711              		.cfi_offset 7, -8
 712              		.cfi_offset 14, -4
 713 0002 BBB0     		sub	sp, sp, #236
 714              	.LCFI15:
 715              		.cfi_def_cfa_offset 256
 716 0004 0446     		mov	r4, r0
 717 0006 0E46     		mov	r6, r1
 718 0008 1746     		mov	r7, r2
 719 000a 1D46     		mov	r5, r3
 198:./Hardware/ESP8266/esp8266.c **** 	char cStr [100] = { 0 }, cCmd [120];
 720              		.loc 1 198 2 is_stmt 1 view .LVU114
 721              		.loc 1 198 7 is_stmt 0 view .LVU115
 722 000c 0021     		movs	r1, #0
 723              	.LVL60:
 724              		.loc 1 198 7 view .LVU116
ARM GAS  /tmp/ccZTlMdj.s 			page 18


 725 000e 2191     		str	r1, [sp, #132]
 726 0010 6022     		movs	r2, #96
 727              	.LVL61:
 728              		.loc 1 198 7 view .LVU117
 729 0012 22A8     		add	r0, sp, #136
 730              	.LVL62:
 731              		.loc 1 198 7 view .LVU118
 732 0014 FFF7FEFF 		bl	memset
 733              	.LVL63:
 199:./Hardware/ESP8266/esp8266.c **** 
 200:./Hardware/ESP8266/esp8266.c ****   switch (  enumE )
 734              		.loc 1 200 3 is_stmt 1 view .LVU119
 735 0018 94B1     		cbz	r4, .L55
 736 001a 012C     		cmp	r4, #1
 737 001c 18D0     		beq	.L56
 738              	.L57:
 201:./Hardware/ESP8266/esp8266.c ****   {
 202:./Hardware/ESP8266/esp8266.c **** 		case enumTCP:
 203:./Hardware/ESP8266/esp8266.c **** 		  sprintf ( cStr, "\"%s\",\"%s\",%s", "TCP", ip, ComNum );
 204:./Hardware/ESP8266/esp8266.c **** 		  break;
 205:./Hardware/ESP8266/esp8266.c **** 		
 206:./Hardware/ESP8266/esp8266.c **** 		case enumUDP:
 207:./Hardware/ESP8266/esp8266.c **** 		  sprintf ( cStr, "\"%s\",\"%s\",%s", "UDP", ip, ComNum );
 208:./Hardware/ESP8266/esp8266.c **** 		  break;
 209:./Hardware/ESP8266/esp8266.c **** 		
 210:./Hardware/ESP8266/esp8266.c **** 		default:
 211:./Hardware/ESP8266/esp8266.c **** 			break;
 212:./Hardware/ESP8266/esp8266.c ****   }
 213:./Hardware/ESP8266/esp8266.c **** 
 214:./Hardware/ESP8266/esp8266.c ****   if ( id < 5 )
 739              		.loc 1 214 3 view .LVU120
 740              		.loc 1 214 6 is_stmt 0 view .LVU121
 741 001e 042D     		cmp	r5, #4
 742 0020 1ED8     		bhi	.L58
 215:./Hardware/ESP8266/esp8266.c ****     sprintf ( cCmd, "AT+CIPSTART=%d,%s", id, cStr);
 743              		.loc 1 215 5 is_stmt 1 view .LVU122
 744 0022 21AB     		add	r3, sp, #132
 745 0024 2A46     		mov	r2, r5
 746 0026 1149     		ldr	r1, .L61
 747 0028 03A8     		add	r0, sp, #12
 748 002a FFF7FEFF 		bl	sprintf
 749              	.LVL64:
 750              	.L59:
 216:./Hardware/ESP8266/esp8266.c **** 
 217:./Hardware/ESP8266/esp8266.c ****   else
 218:./Hardware/ESP8266/esp8266.c **** 	  sprintf ( cCmd, "AT+CIPSTART=%s", cStr );
 219:./Hardware/ESP8266/esp8266.c **** 
 220:./Hardware/ESP8266/esp8266.c **** 	return ESP8266_Cmd ( cCmd, "OK", "ALREAY CONNECT", 4000 );
 751              		.loc 1 220 2 view .LVU123
 752              		.loc 1 220 9 is_stmt 0 view .LVU124
 753 002e 4FF47A63 		mov	r3, #4000
 754 0032 0F4A     		ldr	r2, .L61+4
 755 0034 0F49     		ldr	r1, .L61+8
 756 0036 03A8     		add	r0, sp, #12
 757 0038 FFF7FEFF 		bl	ESP8266_Cmd
 758              	.LVL65:
 221:./Hardware/ESP8266/esp8266.c **** 	
ARM GAS  /tmp/ccZTlMdj.s 			page 19


 222:./Hardware/ESP8266/esp8266.c **** }
 759              		.loc 1 222 1 view .LVU125
 760 003c 3BB0     		add	sp, sp, #236
 761              	.LCFI16:
 762              		.cfi_remember_state
 763              		.cfi_def_cfa_offset 20
 764              		@ sp needed
 765 003e F0BD     		pop	{r4, r5, r6, r7, pc}
 766              	.LVL66:
 767              	.L55:
 768              	.LCFI17:
 769              		.cfi_restore_state
 203:./Hardware/ESP8266/esp8266.c **** 		  break;
 770              		.loc 1 203 5 is_stmt 1 view .LVU126
 771 0040 0097     		str	r7, [sp]
 772 0042 3346     		mov	r3, r6
 773 0044 0C4A     		ldr	r2, .L61+12
 774 0046 0D49     		ldr	r1, .L61+16
 775 0048 21A8     		add	r0, sp, #132
 776 004a FFF7FEFF 		bl	sprintf
 777              	.LVL67:
 204:./Hardware/ESP8266/esp8266.c **** 		
 778              		.loc 1 204 5 view .LVU127
 779 004e E6E7     		b	.L57
 780              	.L56:
 207:./Hardware/ESP8266/esp8266.c **** 		  break;
 781              		.loc 1 207 5 view .LVU128
 782 0050 0097     		str	r7, [sp]
 783 0052 3346     		mov	r3, r6
 784 0054 0A4A     		ldr	r2, .L61+20
 785 0056 0949     		ldr	r1, .L61+16
 786 0058 21A8     		add	r0, sp, #132
 787 005a FFF7FEFF 		bl	sprintf
 788              	.LVL68:
 208:./Hardware/ESP8266/esp8266.c **** 		
 789              		.loc 1 208 5 view .LVU129
 790 005e DEE7     		b	.L57
 791              	.L58:
 218:./Hardware/ESP8266/esp8266.c **** 
 792              		.loc 1 218 4 view .LVU130
 793 0060 21AA     		add	r2, sp, #132
 794 0062 0849     		ldr	r1, .L61+24
 795 0064 03A8     		add	r0, sp, #12
 796 0066 FFF7FEFF 		bl	sprintf
 797              	.LVL69:
 798 006a E0E7     		b	.L59
 799              	.L62:
 800              		.align	2
 801              	.L61:
 802 006c 18000000 		.word	.LC17
 803 0070 3C000000 		.word	.LC19
 804 0074 34000000 		.word	.LC4
 805 0078 00000000 		.word	.LC14
 806 007c 04000000 		.word	.LC15
 807 0080 14000000 		.word	.LC16
 808 0084 2C000000 		.word	.LC18
 809              		.cfi_endproc
ARM GAS  /tmp/ccZTlMdj.s 			page 20


 810              	.LFE747:
 812              		.section	.rodata.ESP8266_StartOrShutServer.str1.4,"aMS",%progbits,1
 813              		.align	2
 814              	.LC20:
 815 0000 41542B43 		.ascii	"AT+CIPSERVER=%d,%s\000"
 815      49505345 
 815      52564552 
 815      3D25642C 
 815      257300
 816 0013 00       		.align	2
 817              	.LC21:
 818 0014 41542B43 		.ascii	"AT+CIPSTO=%s\000"
 818      49505354 
 818      4F3D2573 
 818      00
 819              		.section	.text.ESP8266_StartOrShutServer,"ax",%progbits
 820              		.align	1
 821              		.global	ESP8266_StartOrShutServer
 822              		.syntax unified
 823              		.thumb
 824              		.thumb_func
 825              		.fpu fpv4-sp-d16
 827              	ESP8266_StartOrShutServer:
 828              	.LVL70:
 829              	.LFB748:
 223:./Hardware/ESP8266/esp8266.c **** 
 224:./Hardware/ESP8266/esp8266.c **** /*
 225:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_StartOrShutServer
 226:./Hardware/ESP8266/esp8266.c ****  * 描述  ：WF-ESP8266模块开启或关闭服务器模式
 227:./Hardware/ESP8266/esp8266.c ****  * 输入  ：enumMode，开启/关闭
 228:./Hardware/ESP8266/esp8266.c ****  *       ：pPortNum，服务器端口号字符串
 229:./Hardware/ESP8266/esp8266.c ****  *       ：pTimeOver，服务器超时时间字符串，单位：秒
 230:./Hardware/ESP8266/esp8266.c ****  * 返回  : 1，操作成功
 231:./Hardware/ESP8266/esp8266.c ****  *         0，操作失败
 232:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 233:./Hardware/ESP8266/esp8266.c ****  */
 234:./Hardware/ESP8266/esp8266.c **** bool ESP8266_StartOrShutServer ( FunctionalState enumMode, char * pPortNum, char * pTimeOver )
 235:./Hardware/ESP8266/esp8266.c **** {
 830              		.loc 1 235 1 view -0
 831              		.cfi_startproc
 832              		@ args = 0, pretend = 0, frame = 240
 833              		@ frame_needed = 0, uses_anonymous_args = 0
 834              		.loc 1 235 1 is_stmt 0 view .LVU132
 835 0000 10B5     		push	{r4, lr}
 836              	.LCFI18:
 837              		.cfi_def_cfa_offset 8
 838              		.cfi_offset 4, -8
 839              		.cfi_offset 14, -4
 840 0002 BCB0     		sub	sp, sp, #240
 841              	.LCFI19:
 842              		.cfi_def_cfa_offset 248
 843 0004 0B46     		mov	r3, r1
 236:./Hardware/ESP8266/esp8266.c **** 	char cCmd1 [120], cCmd2 [120];
 844              		.loc 1 236 2 is_stmt 1 view .LVU133
 237:./Hardware/ESP8266/esp8266.c **** 
 238:./Hardware/ESP8266/esp8266.c **** 	if ( enumMode )
 845              		.loc 1 238 2 view .LVU134
ARM GAS  /tmp/ccZTlMdj.s 			page 21


 846              		.loc 1 238 5 is_stmt 0 view .LVU135
 847 0006 00B3     		cbz	r0, .L64
 848 0008 1446     		mov	r4, r2
 239:./Hardware/ESP8266/esp8266.c **** 	{
 240:./Hardware/ESP8266/esp8266.c **** 		sprintf ( cCmd1, "AT+CIPSERVER=%d,%s", 1, pPortNum );
 849              		.loc 1 240 3 is_stmt 1 view .LVU136
 850 000a 0122     		movs	r2, #1
 851              	.LVL71:
 852              		.loc 1 240 3 is_stmt 0 view .LVU137
 853 000c 1649     		ldr	r1, .L71
 854              	.LVL72:
 855              		.loc 1 240 3 view .LVU138
 856 000e 1EA8     		add	r0, sp, #120
 857              	.LVL73:
 858              		.loc 1 240 3 view .LVU139
 859 0010 FFF7FEFF 		bl	sprintf
 860              	.LVL74:
 241:./Hardware/ESP8266/esp8266.c **** 		
 242:./Hardware/ESP8266/esp8266.c **** 		sprintf ( cCmd2, "AT+CIPSTO=%s", pTimeOver );
 861              		.loc 1 242 3 is_stmt 1 view .LVU140
 862 0014 2246     		mov	r2, r4
 863 0016 1549     		ldr	r1, .L71+4
 864 0018 6846     		mov	r0, sp
 865 001a FFF7FEFF 		bl	sprintf
 866              	.LVL75:
 243:./Hardware/ESP8266/esp8266.c **** 
 244:./Hardware/ESP8266/esp8266.c **** 		return ( ESP8266_Cmd ( cCmd1, "OK", 0, 500 ) &&
 867              		.loc 1 244 3 view .LVU141
 868              		.loc 1 244 12 is_stmt 0 view .LVU142
 869 001e 4FF4FA73 		mov	r3, #500
 870 0022 0022     		movs	r2, #0
 871 0024 1249     		ldr	r1, .L71+8
 872 0026 1EA8     		add	r0, sp, #120
 873 0028 FFF7FEFF 		bl	ESP8266_Cmd
 874              	.LVL76:
 875              		.loc 1 244 48 view .LVU143
 876 002c 08B9     		cbnz	r0, .L70
 877 002e 0020     		movs	r0, #0
 878 0030 17E0     		b	.L66
 879              	.L70:
 245:./Hardware/ESP8266/esp8266.c **** 						 ESP8266_Cmd ( cCmd2, "OK", 0, 500 ) );
 880              		.loc 1 245 8 discriminator 1 view .LVU144
 881 0032 4FF4FA73 		mov	r3, #500
 882 0036 0022     		movs	r2, #0
 883 0038 0D49     		ldr	r1, .L71+8
 884 003a 6846     		mov	r0, sp
 885 003c FFF7FEFF 		bl	ESP8266_Cmd
 886              	.LVL77:
 244:./Hardware/ESP8266/esp8266.c **** 						 ESP8266_Cmd ( cCmd2, "OK", 0, 500 ) );
 887              		.loc 1 244 48 discriminator 1 view .LVU145
 888 0040 08B1     		cbz	r0, .L68
 244:./Hardware/ESP8266/esp8266.c **** 						 ESP8266_Cmd ( cCmd2, "OK", 0, 500 ) );
 889              		.loc 1 244 48 view .LVU146
 890 0042 0120     		movs	r0, #1
 891 0044 0DE0     		b	.L66
 892              	.L68:
 893 0046 0020     		movs	r0, #0
ARM GAS  /tmp/ccZTlMdj.s 			page 22


 894 0048 0BE0     		b	.L66
 895              	.LVL78:
 896              	.L64:
 246:./Hardware/ESP8266/esp8266.c **** 	}
 247:./Hardware/ESP8266/esp8266.c **** 	
 248:./Hardware/ESP8266/esp8266.c **** 	else
 249:./Hardware/ESP8266/esp8266.c **** 	{
 250:./Hardware/ESP8266/esp8266.c **** 		sprintf ( cCmd1, "AT+CIPSERVER=%d,%s", 0, pPortNum );
 897              		.loc 1 250 3 is_stmt 1 view .LVU147
 898 004a 0022     		movs	r2, #0
 899              	.LVL79:
 900              		.loc 1 250 3 is_stmt 0 view .LVU148
 901 004c 0649     		ldr	r1, .L71
 902              	.LVL80:
 903              		.loc 1 250 3 view .LVU149
 904 004e 1EA8     		add	r0, sp, #120
 905              	.LVL81:
 906              		.loc 1 250 3 view .LVU150
 907 0050 FFF7FEFF 		bl	sprintf
 908              	.LVL82:
 251:./Hardware/ESP8266/esp8266.c **** 
 252:./Hardware/ESP8266/esp8266.c **** 		return ESP8266_Cmd ( cCmd1, "OK", 0, 500 );
 909              		.loc 1 252 3 is_stmt 1 view .LVU151
 910              		.loc 1 252 10 is_stmt 0 view .LVU152
 911 0054 4FF4FA73 		mov	r3, #500
 912 0058 0022     		movs	r2, #0
 913 005a 0549     		ldr	r1, .L71+8
 914 005c 1EA8     		add	r0, sp, #120
 915 005e FFF7FEFF 		bl	ESP8266_Cmd
 916              	.LVL83:
 917              	.L66:
 253:./Hardware/ESP8266/esp8266.c **** 	}
 254:./Hardware/ESP8266/esp8266.c **** 	
 255:./Hardware/ESP8266/esp8266.c **** }
 918              		.loc 1 255 1 view .LVU153
 919 0062 3CB0     		add	sp, sp, #240
 920              	.LCFI20:
 921              		.cfi_def_cfa_offset 8
 922              		@ sp needed
 923 0064 10BD     		pop	{r4, pc}
 924              	.L72:
 925 0066 00BF     		.align	2
 926              	.L71:
 927 0068 00000000 		.word	.LC20
 928 006c 14000000 		.word	.LC21
 929 0070 34000000 		.word	.LC4
 930              		.cfi_endproc
 931              	.LFE748:
 933              		.section	.rodata.ESP8266_Get_LinkStatus.str1.4,"aMS",%progbits,1
 934              		.align	2
 935              	.LC22:
 936 0000 41542B43 		.ascii	"AT+CIPSTATUS\000"
 936      49505354 
 936      41545553 
 936      00
 937 000d 000000   		.align	2
 938              	.LC23:
ARM GAS  /tmp/ccZTlMdj.s 			page 23


 939 0010 53544154 		.ascii	"STATUS:2\015\012\000"
 939      55533A32 
 939      0D0A00
 940 001b 00       		.align	2
 941              	.LC24:
 942 001c 53544154 		.ascii	"STATUS:3\015\012\000"
 942      55533A33 
 942      0D0A00
 943 0027 00       		.align	2
 944              	.LC25:
 945 0028 53544154 		.ascii	"STATUS:4\015\012\000"
 945      55533A34 
 945      0D0A00
 946              		.section	.text.ESP8266_Get_LinkStatus,"ax",%progbits
 947              		.align	1
 948              		.global	ESP8266_Get_LinkStatus
 949              		.syntax unified
 950              		.thumb
 951              		.thumb_func
 952              		.fpu fpv4-sp-d16
 954              	ESP8266_Get_LinkStatus:
 955              	.LFB749:
 256:./Hardware/ESP8266/esp8266.c **** 
 257:./Hardware/ESP8266/esp8266.c **** /*
 258:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_Get_LinkStatus
 259:./Hardware/ESP8266/esp8266.c ****  * 描述  ：获取 WF-ESP8266 的连接状态，较适合单端口时使用
 260:./Hardware/ESP8266/esp8266.c ****  * 输入  ：无
 261:./Hardware/ESP8266/esp8266.c ****  * 返回  : 2，获得ip
 262:./Hardware/ESP8266/esp8266.c ****  *         3，建立连接
 263:./Hardware/ESP8266/esp8266.c ****  *         3，失去连接
 264:./Hardware/ESP8266/esp8266.c ****  *         0，获取状态失败
 265:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 266:./Hardware/ESP8266/esp8266.c ****  */
 267:./Hardware/ESP8266/esp8266.c **** uint8_t ESP8266_Get_LinkStatus ( void )
 268:./Hardware/ESP8266/esp8266.c **** {
 956              		.loc 1 268 1 is_stmt 1 view -0
 957              		.cfi_startproc
 958              		@ args = 0, pretend = 0, frame = 0
 959              		@ frame_needed = 0, uses_anonymous_args = 0
 960 0000 08B5     		push	{r3, lr}
 961              	.LCFI21:
 962              		.cfi_def_cfa_offset 8
 963              		.cfi_offset 3, -8
 964              		.cfi_offset 14, -4
 269:./Hardware/ESP8266/esp8266.c **** 	if ( ESP8266_Cmd ( "AT+CIPSTATUS", "OK", 0, 500 ) )
 965              		.loc 1 269 2 view .LVU155
 966              		.loc 1 269 7 is_stmt 0 view .LVU156
 967 0002 4FF4FA73 		mov	r3, #500
 968 0006 0022     		movs	r2, #0
 969 0008 0D49     		ldr	r1, .L80
 970 000a 0E48     		ldr	r0, .L80+4
 971 000c FFF7FEFF 		bl	ESP8266_Cmd
 972              	.LVL84:
 973              		.loc 1 269 5 view .LVU157
 974 0010 80B1     		cbz	r0, .L75
 270:./Hardware/ESP8266/esp8266.c **** 	{
 271:./Hardware/ESP8266/esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "STATUS:2\r\n" ) )
ARM GAS  /tmp/ccZTlMdj.s 			page 24


 975              		.loc 1 271 3 is_stmt 1 view .LVU158
 976              		.loc 1 271 8 is_stmt 0 view .LVU159
 977 0012 0D49     		ldr	r1, .L80+8
 978 0014 0D48     		ldr	r0, .L80+12
 979 0016 FFF7FEFF 		bl	strstr
 980              	.LVL85:
 981              		.loc 1 271 6 view .LVU160
 982 001a 68B9     		cbnz	r0, .L76
 272:./Hardware/ESP8266/esp8266.c **** 			return 2;
 273:./Hardware/ESP8266/esp8266.c **** 		
 274:./Hardware/ESP8266/esp8266.c **** 		else if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "STATUS:3\r\n" ) )
 983              		.loc 1 274 8 is_stmt 1 view .LVU161
 984              		.loc 1 274 13 is_stmt 0 view .LVU162
 985 001c 0C49     		ldr	r1, .L80+16
 986 001e 0B48     		ldr	r0, .L80+12
 987 0020 FFF7FEFF 		bl	strstr
 988              	.LVL86:
 989              		.loc 1 274 11 view .LVU163
 990 0024 50B9     		cbnz	r0, .L77
 275:./Hardware/ESP8266/esp8266.c **** 			return 3;
 276:./Hardware/ESP8266/esp8266.c **** 		
 277:./Hardware/ESP8266/esp8266.c **** 		else if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "STATUS:4\r\n" ) )
 991              		.loc 1 277 8 is_stmt 1 view .LVU164
 992              		.loc 1 277 13 is_stmt 0 view .LVU165
 993 0026 0B49     		ldr	r1, .L80+20
 994 0028 0848     		ldr	r0, .L80+12
 995 002a FFF7FEFF 		bl	strstr
 996              	.LVL87:
 997              		.loc 1 277 11 view .LVU166
 998 002e 10B1     		cbz	r0, .L74
 278:./Hardware/ESP8266/esp8266.c **** 			return 4;		
 999              		.loc 1 278 11 view .LVU167
 1000 0030 0420     		movs	r0, #4
 1001 0032 00E0     		b	.L74
 1002              	.L75:
 279:./Hardware/ESP8266/esp8266.c **** 
 280:./Hardware/ESP8266/esp8266.c **** 	}
 281:./Hardware/ESP8266/esp8266.c **** 	
 282:./Hardware/ESP8266/esp8266.c **** 	return 0;
 1003              		.loc 1 282 9 view .LVU168
 1004 0034 0020     		movs	r0, #0
 1005              	.L74:
 283:./Hardware/ESP8266/esp8266.c **** 	
 284:./Hardware/ESP8266/esp8266.c **** }
 1006              		.loc 1 284 1 view .LVU169
 1007 0036 08BD     		pop	{r3, pc}
 1008              	.L76:
 272:./Hardware/ESP8266/esp8266.c **** 		
 1009              		.loc 1 272 11 view .LVU170
 1010 0038 0220     		movs	r0, #2
 1011 003a FCE7     		b	.L74
 1012              	.L77:
 275:./Hardware/ESP8266/esp8266.c **** 		
 1013              		.loc 1 275 11 view .LVU171
 1014 003c 0320     		movs	r0, #3
 1015 003e FAE7     		b	.L74
 1016              	.L81:
ARM GAS  /tmp/ccZTlMdj.s 			page 25


 1017              		.align	2
 1018              	.L80:
 1019 0040 34000000 		.word	.LC4
 1020 0044 00000000 		.word	.LC22
 1021 0048 10000000 		.word	.LC23
 1022 004c 00000000 		.word	.LANCHOR0
 1023 0050 1C000000 		.word	.LC24
 1024 0054 28000000 		.word	.LC25
 1025              		.cfi_endproc
 1026              	.LFE749:
 1028              		.section	.rodata.ESP8266_Get_IdLinkStatus.str1.4,"aMS",%progbits,1
 1029              		.align	2
 1030              	.LC26:
 1031 0000 2B434950 		.ascii	"+CIPSTATUS:0,\000"
 1031      53544154 
 1031      55533A30 
 1031      2C00
 1032 000e 0000     		.align	2
 1033              	.LC27:
 1034 0010 2B434950 		.ascii	"+CIPSTATUS:1,\000"
 1034      53544154 
 1034      55533A31 
 1034      2C00
 1035 001e 0000     		.align	2
 1036              	.LC28:
 1037 0020 2B434950 		.ascii	"+CIPSTATUS:2,\000"
 1037      53544154 
 1037      55533A32 
 1037      2C00
 1038 002e 0000     		.align	2
 1039              	.LC29:
 1040 0030 2B434950 		.ascii	"+CIPSTATUS:3,\000"
 1040      53544154 
 1040      55533A33 
 1040      2C00
 1041 003e 0000     		.align	2
 1042              	.LC30:
 1043 0040 2B434950 		.ascii	"+CIPSTATUS:4,\000"
 1043      53544154 
 1043      55533A34 
 1043      2C00
 1044              		.section	.text.ESP8266_Get_IdLinkStatus,"ax",%progbits
 1045              		.align	1
 1046              		.global	ESP8266_Get_IdLinkStatus
 1047              		.syntax unified
 1048              		.thumb
 1049              		.thumb_func
 1050              		.fpu fpv4-sp-d16
 1052              	ESP8266_Get_IdLinkStatus:
 1053              	.LFB750:
 285:./Hardware/ESP8266/esp8266.c **** 
 286:./Hardware/ESP8266/esp8266.c **** 
 287:./Hardware/ESP8266/esp8266.c **** /*
 288:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_Get_IdLinkStatus
 289:./Hardware/ESP8266/esp8266.c ****  * 描述  ：获取 WF-ESP8266 的端口（Id）连接状态，较适合多端口时使用
 290:./Hardware/ESP8266/esp8266.c ****  * 输入  ：无
 291:./Hardware/ESP8266/esp8266.c ****  * 返回  : 端口（Id）的连接状态，低5位为有效位，分别对应Id5~0，某位若置
ARM GAS  /tmp/ccZTlMdj.s 			page 26


 292:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 293:./Hardware/ESP8266/esp8266.c ****  */
 294:./Hardware/ESP8266/esp8266.c **** uint8_t ESP8266_Get_IdLinkStatus ( void )
 295:./Hardware/ESP8266/esp8266.c **** {
 1054              		.loc 1 295 1 is_stmt 1 view -0
 1055              		.cfi_startproc
 1056              		@ args = 0, pretend = 0, frame = 0
 1057              		@ frame_needed = 0, uses_anonymous_args = 0
 1058 0000 10B5     		push	{r4, lr}
 1059              	.LCFI22:
 1060              		.cfi_def_cfa_offset 8
 1061              		.cfi_offset 4, -8
 1062              		.cfi_offset 14, -4
 296:./Hardware/ESP8266/esp8266.c **** 	uint8_t ucIdLinkStatus = 0x00;
 1063              		.loc 1 296 2 view .LVU173
 1064              	.LVL88:
 297:./Hardware/ESP8266/esp8266.c **** 	
 298:./Hardware/ESP8266/esp8266.c **** 	
 299:./Hardware/ESP8266/esp8266.c **** 	if ( ESP8266_Cmd ( "AT+CIPSTATUS", "OK", 0, 500 ) )
 1065              		.loc 1 299 2 view .LVU174
 1066              		.loc 1 299 7 is_stmt 0 view .LVU175
 1067 0002 4FF4FA73 		mov	r3, #500
 1068 0006 0022     		movs	r2, #0
 1069 0008 1A49     		ldr	r1, .L95
 1070 000a 1B48     		ldr	r0, .L95+4
 1071 000c FFF7FEFF 		bl	ESP8266_Cmd
 1072              	.LVL89:
 1073              		.loc 1 299 5 view .LVU176
 1074 0010 68B3     		cbz	r0, .L92
 300:./Hardware/ESP8266/esp8266.c **** 	{
 301:./Hardware/ESP8266/esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+CIPSTATUS:0," ) )
 1075              		.loc 1 301 3 is_stmt 1 view .LVU177
 1076              		.loc 1 301 8 is_stmt 0 view .LVU178
 1077 0012 1A49     		ldr	r1, .L95+8
 1078 0014 1A48     		ldr	r0, .L95+12
 1079 0016 FFF7FEFF 		bl	strstr
 1080              	.LVL90:
 1081              		.loc 1 301 6 view .LVU179
 1082 001a E8B1     		cbz	r0, .L93
 302:./Hardware/ESP8266/esp8266.c **** 			ucIdLinkStatus |= 0x01;
 1083              		.loc 1 302 19 view .LVU180
 1084 001c 0124     		movs	r4, #1
 1085              	.L84:
 1086              	.LVL91:
 303:./Hardware/ESP8266/esp8266.c **** 		else 
 304:./Hardware/ESP8266/esp8266.c **** 			ucIdLinkStatus &= ~ 0x01;
 305:./Hardware/ESP8266/esp8266.c **** 		
 306:./Hardware/ESP8266/esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+CIPSTATUS:1," ) )
 1087              		.loc 1 306 3 is_stmt 1 view .LVU181
 1088              		.loc 1 306 8 is_stmt 0 view .LVU182
 1089 001e 1949     		ldr	r1, .L95+16
 1090 0020 1748     		ldr	r0, .L95+12
 1091 0022 FFF7FEFF 		bl	strstr
 1092              	.LVL92:
 1093              		.loc 1 306 6 view .LVU183
 1094 0026 08B1     		cbz	r0, .L86
 307:./Hardware/ESP8266/esp8266.c **** 			ucIdLinkStatus |= 0x02;
ARM GAS  /tmp/ccZTlMdj.s 			page 27


 1095              		.loc 1 307 4 is_stmt 1 view .LVU184
 1096              		.loc 1 307 19 is_stmt 0 view .LVU185
 1097 0028 44F00204 		orr	r4, r4, #2
 1098              	.LVL93:
 1099              	.L86:
 308:./Hardware/ESP8266/esp8266.c **** 		else 
 309:./Hardware/ESP8266/esp8266.c **** 			ucIdLinkStatus &= ~ 0x02;
 310:./Hardware/ESP8266/esp8266.c **** 		
 311:./Hardware/ESP8266/esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+CIPSTATUS:2," ) )
 1100              		.loc 1 311 3 is_stmt 1 view .LVU186
 1101              		.loc 1 311 8 is_stmt 0 view .LVU187
 1102 002c 1649     		ldr	r1, .L95+20
 1103 002e 1448     		ldr	r0, .L95+12
 1104 0030 FFF7FEFF 		bl	strstr
 1105              	.LVL94:
 1106              		.loc 1 311 6 view .LVU188
 1107 0034 90B1     		cbz	r0, .L87
 312:./Hardware/ESP8266/esp8266.c **** 			ucIdLinkStatus |= 0x04;
 1108              		.loc 1 312 4 is_stmt 1 view .LVU189
 1109              		.loc 1 312 19 is_stmt 0 view .LVU190
 1110 0036 44F00404 		orr	r4, r4, #4
 1111              	.LVL95:
 1112              	.L88:
 313:./Hardware/ESP8266/esp8266.c **** 		else 
 314:./Hardware/ESP8266/esp8266.c **** 			ucIdLinkStatus &= ~ 0x04;
 315:./Hardware/ESP8266/esp8266.c **** 		
 316:./Hardware/ESP8266/esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+CIPSTATUS:3," ) )
 1113              		.loc 1 316 3 is_stmt 1 view .LVU191
 1114              		.loc 1 316 8 is_stmt 0 view .LVU192
 1115 003a 1449     		ldr	r1, .L95+24
 1116 003c 1048     		ldr	r0, .L95+12
 1117 003e FFF7FEFF 		bl	strstr
 1118              	.LVL96:
 1119              		.loc 1 316 6 view .LVU193
 1120 0042 70B1     		cbz	r0, .L89
 317:./Hardware/ESP8266/esp8266.c **** 			ucIdLinkStatus |= 0x08;
 1121              		.loc 1 317 4 is_stmt 1 view .LVU194
 1122              		.loc 1 317 19 is_stmt 0 view .LVU195
 1123 0044 44F00804 		orr	r4, r4, #8
 1124              	.LVL97:
 1125              	.L90:
 318:./Hardware/ESP8266/esp8266.c **** 		else 
 319:./Hardware/ESP8266/esp8266.c **** 			ucIdLinkStatus &= ~ 0x08;
 320:./Hardware/ESP8266/esp8266.c **** 		
 321:./Hardware/ESP8266/esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+CIPSTATUS:4," ) )
 1126              		.loc 1 321 3 is_stmt 1 view .LVU196
 1127              		.loc 1 321 8 is_stmt 0 view .LVU197
 1128 0048 1149     		ldr	r1, .L95+28
 1129 004a 0D48     		ldr	r0, .L95+12
 1130 004c FFF7FEFF 		bl	strstr
 1131              	.LVL98:
 1132              		.loc 1 321 6 view .LVU198
 1133 0050 50B1     		cbz	r0, .L91
 322:./Hardware/ESP8266/esp8266.c **** 			ucIdLinkStatus |= 0x10;
 1134              		.loc 1 322 4 is_stmt 1 view .LVU199
 1135              		.loc 1 322 19 is_stmt 0 view .LVU200
 1136 0052 44F01000 		orr	r0, r4, #16
ARM GAS  /tmp/ccZTlMdj.s 			page 28


 1137              	.LVL99:
 1138              		.loc 1 322 19 view .LVU201
 1139 0056 0BE0     		b	.L83
 1140              	.LVL100:
 1141              	.L93:
 304:./Hardware/ESP8266/esp8266.c **** 		
 1142              		.loc 1 304 19 view .LVU202
 1143 0058 0024     		movs	r4, #0
 1144 005a E0E7     		b	.L84
 1145              	.LVL101:
 1146              	.L87:
 314:./Hardware/ESP8266/esp8266.c **** 		
 1147              		.loc 1 314 4 is_stmt 1 view .LVU203
 314:./Hardware/ESP8266/esp8266.c **** 		
 1148              		.loc 1 314 19 is_stmt 0 view .LVU204
 1149 005c 04F0FB04 		and	r4, r4, #251
 1150              	.LVL102:
 314:./Hardware/ESP8266/esp8266.c **** 		
 1151              		.loc 1 314 19 view .LVU205
 1152 0060 EBE7     		b	.L88
 1153              	.L89:
 319:./Hardware/ESP8266/esp8266.c **** 		
 1154              		.loc 1 319 4 is_stmt 1 view .LVU206
 319:./Hardware/ESP8266/esp8266.c **** 		
 1155              		.loc 1 319 19 is_stmt 0 view .LVU207
 1156 0062 04F0F704 		and	r4, r4, #247
 1157              	.LVL103:
 319:./Hardware/ESP8266/esp8266.c **** 		
 1158              		.loc 1 319 19 view .LVU208
 1159 0066 EFE7     		b	.L90
 1160              	.L91:
 323:./Hardware/ESP8266/esp8266.c **** 		else 
 324:./Hardware/ESP8266/esp8266.c **** 			ucIdLinkStatus &= ~ 0x10;	
 1161              		.loc 1 324 4 is_stmt 1 view .LVU209
 1162              		.loc 1 324 19 is_stmt 0 view .LVU210
 1163 0068 04F0EF00 		and	r0, r4, #239
 1164              	.LVL104:
 1165              		.loc 1 324 19 view .LVU211
 1166 006c 00E0     		b	.L83
 1167              	.LVL105:
 1168              	.L92:
 296:./Hardware/ESP8266/esp8266.c **** 	
 1169              		.loc 1 296 10 view .LVU212
 1170 006e 0020     		movs	r0, #0
 1171              	.LVL106:
 1172              	.L83:
 325:./Hardware/ESP8266/esp8266.c **** 
 326:./Hardware/ESP8266/esp8266.c **** 	}
 327:./Hardware/ESP8266/esp8266.c **** 	
 328:./Hardware/ESP8266/esp8266.c **** 	return ucIdLinkStatus;
 1173              		.loc 1 328 2 is_stmt 1 view .LVU213
 329:./Hardware/ESP8266/esp8266.c **** 	
 330:./Hardware/ESP8266/esp8266.c **** }
 1174              		.loc 1 330 1 is_stmt 0 view .LVU214
 1175 0070 10BD     		pop	{r4, pc}
 1176              	.L96:
 1177 0072 00BF     		.align	2
ARM GAS  /tmp/ccZTlMdj.s 			page 29


 1178              	.L95:
 1179 0074 34000000 		.word	.LC4
 1180 0078 00000000 		.word	.LC22
 1181 007c 00000000 		.word	.LC26
 1182 0080 00000000 		.word	.LANCHOR0
 1183 0084 10000000 		.word	.LC27
 1184 0088 20000000 		.word	.LC28
 1185 008c 30000000 		.word	.LC29
 1186 0090 40000000 		.word	.LC30
 1187              		.cfi_endproc
 1188              	.LFE750:
 1190              		.section	.rodata.ESP8266_Inquire_ApIp.str1.4,"aMS",%progbits,1
 1191              		.align	2
 1192              	.LC31:
 1193 0000 41542B43 		.ascii	"AT+CIFSR\000"
 1193      49465352 
 1193      00
 1194 0009 000000   		.align	2
 1195              	.LC32:
 1196 000c 41504950 		.ascii	"APIP,\"\000"
 1196      2C2200
 1197              		.section	.text.ESP8266_Inquire_ApIp,"ax",%progbits
 1198              		.align	1
 1199              		.global	ESP8266_Inquire_ApIp
 1200              		.syntax unified
 1201              		.thumb
 1202              		.thumb_func
 1203              		.fpu fpv4-sp-d16
 1205              	ESP8266_Inquire_ApIp:
 1206              	.LVL107:
 1207              	.LFB751:
 331:./Hardware/ESP8266/esp8266.c **** 
 332:./Hardware/ESP8266/esp8266.c **** 
 333:./Hardware/ESP8266/esp8266.c **** /*
 334:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_Inquire_ApIp
 335:./Hardware/ESP8266/esp8266.c ****  * 描述  ：获取 F-ESP8266 的 AP IP
 336:./Hardware/ESP8266/esp8266.c ****  * 输入  ：pApIp，存放 AP IP 的数组的首地址
 337:./Hardware/ESP8266/esp8266.c ****  *         ucArrayLength，存放 AP IP 的数组的长度
 338:./Hardware/ESP8266/esp8266.c ****  * 返回  : 0，获取失败
 339:./Hardware/ESP8266/esp8266.c ****  *         1，获取成功
 340:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 341:./Hardware/ESP8266/esp8266.c ****  */
 342:./Hardware/ESP8266/esp8266.c **** uint8_t ESP8266_Inquire_ApIp ( char * pApIp, uint8_t ucArrayLength )
 343:./Hardware/ESP8266/esp8266.c **** {
 1208              		.loc 1 343 1 is_stmt 1 view -0
 1209              		.cfi_startproc
 1210              		@ args = 0, pretend = 0, frame = 0
 1211              		@ frame_needed = 0, uses_anonymous_args = 0
 1212              		.loc 1 343 1 is_stmt 0 view .LVU216
 1213 0000 38B5     		push	{r3, r4, r5, lr}
 1214              	.LCFI23:
 1215              		.cfi_def_cfa_offset 16
 1216              		.cfi_offset 3, -16
 1217              		.cfi_offset 4, -12
 1218              		.cfi_offset 5, -8
 1219              		.cfi_offset 14, -4
 1220 0002 0446     		mov	r4, r0
ARM GAS  /tmp/ccZTlMdj.s 			page 30


 1221 0004 0D46     		mov	r5, r1
 344:./Hardware/ESP8266/esp8266.c **** 	char uc;
 1222              		.loc 1 344 2 is_stmt 1 view .LVU217
 345:./Hardware/ESP8266/esp8266.c **** 	
 346:./Hardware/ESP8266/esp8266.c **** 	char * pCh;
 1223              		.loc 1 346 2 view .LVU218
 347:./Hardware/ESP8266/esp8266.c **** 	
 348:./Hardware/ESP8266/esp8266.c **** 	
 349:./Hardware/ESP8266/esp8266.c ****   ESP8266_Cmd ( "AT+CIFSR", "OK", 0, 500 );
 1224              		.loc 1 349 3 view .LVU219
 1225 0006 4FF4FA73 		mov	r3, #500
 1226 000a 0022     		movs	r2, #0
 1227 000c 0D49     		ldr	r1, .L106
 1228              	.LVL108:
 1229              		.loc 1 349 3 is_stmt 0 view .LVU220
 1230 000e 0E48     		ldr	r0, .L106+4
 1231              	.LVL109:
 1232              		.loc 1 349 3 view .LVU221
 1233 0010 FFF7FEFF 		bl	ESP8266_Cmd
 1234              	.LVL110:
 350:./Hardware/ESP8266/esp8266.c **** 	
 351:./Hardware/ESP8266/esp8266.c **** 	pCh = strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "APIP,\"" );
 1235              		.loc 1 351 2 is_stmt 1 view .LVU222
 1236              		.loc 1 351 8 is_stmt 0 view .LVU223
 1237 0014 0D49     		ldr	r1, .L106+8
 1238 0016 0E48     		ldr	r0, .L106+12
 1239 0018 FFF7FEFF 		bl	strstr
 1240              	.LVL111:
 352:./Hardware/ESP8266/esp8266.c **** 	
 353:./Hardware/ESP8266/esp8266.c **** 	if ( pCh )
 1241              		.loc 1 353 2 is_stmt 1 view .LVU224
 1242              		.loc 1 353 5 is_stmt 0 view .LVU225
 1243 001c 88B1     		cbz	r0, .L99
 1244 001e 0146     		mov	r1, r0
 354:./Hardware/ESP8266/esp8266.c **** 		pCh += 6;
 355:./Hardware/ESP8266/esp8266.c **** 	
 356:./Hardware/ESP8266/esp8266.c **** 	else
 357:./Hardware/ESP8266/esp8266.c **** 		return 0;
 358:./Hardware/ESP8266/esp8266.c **** 	
 359:./Hardware/ESP8266/esp8266.c **** 	for ( uc = 0; uc < ucArrayLength; uc ++ )
 1245              		.loc 1 359 11 view .LVU226
 1246 0020 0023     		movs	r3, #0
 1247              	.LVL112:
 1248              	.L98:
 1249              		.loc 1 359 16 is_stmt 1 discriminator 1 view .LVU227
 1250              		.loc 1 359 2 is_stmt 0 discriminator 1 view .LVU228
 1251 0022 AB42     		cmp	r3, r5
 1252 0024 0CD2     		bcs	.L104
 360:./Hardware/ESP8266/esp8266.c **** 	{
 361:./Hardware/ESP8266/esp8266.c **** 		pApIp [ uc ] = * ( pCh + uc);
 1253              		.loc 1 361 3 is_stmt 1 view .LVU229
 1254              		.loc 1 361 26 is_stmt 0 view .LVU230
 1255 0026 9A1D     		adds	r2, r3, #6
 1256              		.loc 1 361 9 view .LVU231
 1257 0028 E018     		adds	r0, r4, r3
 1258              		.loc 1 361 18 view .LVU232
 1259 002a 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
ARM GAS  /tmp/ccZTlMdj.s 			page 31


 1260              		.loc 1 361 16 view .LVU233
 1261 002c E254     		strb	r2, [r4, r3]
 362:./Hardware/ESP8266/esp8266.c **** 		
 363:./Hardware/ESP8266/esp8266.c **** 		if ( pApIp [ uc ] == '\"' )
 1262              		.loc 1 363 3 is_stmt 1 view .LVU234
 1263              		.loc 1 363 6 is_stmt 0 view .LVU235
 1264 002e 222A     		cmp	r2, #34
 1265 0030 02D0     		beq	.L105
 359:./Hardware/ESP8266/esp8266.c **** 	{
 1266              		.loc 1 359 36 is_stmt 1 discriminator 2 view .LVU236
 359:./Hardware/ESP8266/esp8266.c **** 	{
 1267              		.loc 1 359 39 is_stmt 0 discriminator 2 view .LVU237
 1268 0032 0133     		adds	r3, r3, #1
 1269              	.LVL113:
 359:./Hardware/ESP8266/esp8266.c **** 	{
 1270              		.loc 1 359 39 discriminator 2 view .LVU238
 1271 0034 DBB2     		uxtb	r3, r3
 1272              	.LVL114:
 359:./Hardware/ESP8266/esp8266.c **** 	{
 1273              		.loc 1 359 39 discriminator 2 view .LVU239
 1274 0036 F4E7     		b	.L98
 1275              	.L105:
 364:./Hardware/ESP8266/esp8266.c **** 		{
 365:./Hardware/ESP8266/esp8266.c **** 			pApIp [ uc ] = '\0';
 1276              		.loc 1 365 4 is_stmt 1 view .LVU240
 1277              		.loc 1 365 17 is_stmt 0 view .LVU241
 1278 0038 0023     		movs	r3, #0
 1279              	.LVL115:
 1280              		.loc 1 365 17 view .LVU242
 1281 003a 0370     		strb	r3, [r0]
 366:./Hardware/ESP8266/esp8266.c **** 			break;
 1282              		.loc 1 366 4 is_stmt 1 view .LVU243
 367:./Hardware/ESP8266/esp8266.c **** 		}
 368:./Hardware/ESP8266/esp8266.c **** 		
 369:./Hardware/ESP8266/esp8266.c **** 	}
 370:./Hardware/ESP8266/esp8266.c **** 	
 371:./Hardware/ESP8266/esp8266.c **** 	return 1;
 1283              		.loc 1 371 9 is_stmt 0 view .LVU244
 1284 003c 0120     		movs	r0, #1
 366:./Hardware/ESP8266/esp8266.c **** 			break;
 1285              		.loc 1 366 4 view .LVU245
 1286 003e 00E0     		b	.L99
 1287              	.LVL116:
 1288              	.L104:
 1289              		.loc 1 371 9 view .LVU246
 1290 0040 0120     		movs	r0, #1
 1291              	.LVL117:
 1292              	.L99:
 372:./Hardware/ESP8266/esp8266.c **** 	
 373:./Hardware/ESP8266/esp8266.c **** }
 1293              		.loc 1 373 1 view .LVU247
 1294 0042 38BD     		pop	{r3, r4, r5, pc}
 1295              	.LVL118:
 1296              	.L107:
 1297              		.loc 1 373 1 view .LVU248
 1298              		.align	2
 1299              	.L106:
ARM GAS  /tmp/ccZTlMdj.s 			page 32


 1300 0044 34000000 		.word	.LC4
 1301 0048 00000000 		.word	.LC31
 1302 004c 0C000000 		.word	.LC32
 1303 0050 00000000 		.word	.LANCHOR0
 1304              		.cfi_endproc
 1305              	.LFE751:
 1307              		.section	.rodata.ESP8266_UnvarnishSend.str1.4,"aMS",%progbits,1
 1308              		.align	2
 1309              	.LC33:
 1310 0000 41542B43 		.ascii	"AT+CIPMODE=1\000"
 1310      49504D4F 
 1310      44453D31 
 1310      00
 1311 000d 000000   		.align	2
 1312              	.LC34:
 1313 0010 3E00     		.ascii	">\000"
 1314 0012 0000     		.align	2
 1315              	.LC35:
 1316 0014 41542B43 		.ascii	"AT+CIPSEND\000"
 1316      49505345 
 1316      4E4400
 1317              		.section	.text.ESP8266_UnvarnishSend,"ax",%progbits
 1318              		.align	1
 1319              		.global	ESP8266_UnvarnishSend
 1320              		.syntax unified
 1321              		.thumb
 1322              		.thumb_func
 1323              		.fpu fpv4-sp-d16
 1325              	ESP8266_UnvarnishSend:
 1326              	.LFB752:
 374:./Hardware/ESP8266/esp8266.c **** 
 375:./Hardware/ESP8266/esp8266.c **** 
 376:./Hardware/ESP8266/esp8266.c **** /*
 377:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_UnvarnishSend
 378:./Hardware/ESP8266/esp8266.c ****  * 描述  ：配置WF-ESP8266模块进入透传发送
 379:./Hardware/ESP8266/esp8266.c ****  * 输入  ：无
 380:./Hardware/ESP8266/esp8266.c ****  * 返回  : 1，配置成功
 381:./Hardware/ESP8266/esp8266.c ****  *         0，配置失败
 382:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 383:./Hardware/ESP8266/esp8266.c ****  */
 384:./Hardware/ESP8266/esp8266.c **** bool ESP8266_UnvarnishSend ( void )
 385:./Hardware/ESP8266/esp8266.c **** {
 1327              		.loc 1 385 1 is_stmt 1 view -0
 1328              		.cfi_startproc
 1329              		@ args = 0, pretend = 0, frame = 0
 1330              		@ frame_needed = 0, uses_anonymous_args = 0
 1331 0000 08B5     		push	{r3, lr}
 1332              	.LCFI24:
 1333              		.cfi_def_cfa_offset 8
 1334              		.cfi_offset 3, -8
 1335              		.cfi_offset 14, -4
 386:./Hardware/ESP8266/esp8266.c **** 	if ( ! ESP8266_Cmd ( "AT+CIPMODE=1", "OK", 0, 500 ) )
 1336              		.loc 1 386 2 view .LVU250
 1337              		.loc 1 386 9 is_stmt 0 view .LVU251
 1338 0002 4FF4FA73 		mov	r3, #500
 1339 0006 0022     		movs	r2, #0
 1340 0008 0649     		ldr	r1, .L112
ARM GAS  /tmp/ccZTlMdj.s 			page 33


 1341 000a 0748     		ldr	r0, .L112+4
 1342 000c FFF7FEFF 		bl	ESP8266_Cmd
 1343              	.LVL119:
 1344              		.loc 1 386 5 view .LVU252
 1345 0010 00B9     		cbnz	r0, .L111
 1346              	.L109:
 387:./Hardware/ESP8266/esp8266.c **** 		return false;
 388:./Hardware/ESP8266/esp8266.c **** 	
 389:./Hardware/ESP8266/esp8266.c **** 	return 
 390:./Hardware/ESP8266/esp8266.c **** 	  ESP8266_Cmd ( "AT+CIPSEND", "OK", ">", 500 );
 391:./Hardware/ESP8266/esp8266.c **** 	
 392:./Hardware/ESP8266/esp8266.c **** }
 1347              		.loc 1 392 1 view .LVU253
 1348 0012 08BD     		pop	{r3, pc}
 1349              	.L111:
 389:./Hardware/ESP8266/esp8266.c **** 	  ESP8266_Cmd ( "AT+CIPSEND", "OK", ">", 500 );
 1350              		.loc 1 389 2 is_stmt 1 view .LVU254
 390:./Hardware/ESP8266/esp8266.c **** 	
 1351              		.loc 1 390 4 is_stmt 0 view .LVU255
 1352 0014 4FF4FA73 		mov	r3, #500
 1353 0018 044A     		ldr	r2, .L112+8
 1354 001a 0249     		ldr	r1, .L112
 1355 001c 0448     		ldr	r0, .L112+12
 1356 001e FFF7FEFF 		bl	ESP8266_Cmd
 1357              	.LVL120:
 1358 0022 F6E7     		b	.L109
 1359              	.L113:
 1360              		.align	2
 1361              	.L112:
 1362 0024 34000000 		.word	.LC4
 1363 0028 00000000 		.word	.LC33
 1364 002c 10000000 		.word	.LC34
 1365 0030 14000000 		.word	.LC35
 1366              		.cfi_endproc
 1367              	.LFE752:
 1369              		.section	.rodata.ESP8266_ExitUnvarnishSend.str1.4,"aMS",%progbits,1
 1370              		.align	2
 1371              	.LC36:
 1372 0000 2B2B2B00 		.ascii	"+++\000"
 1373              		.section	.text.ESP8266_ExitUnvarnishSend,"ax",%progbits
 1374              		.align	1
 1375              		.global	ESP8266_ExitUnvarnishSend
 1376              		.syntax unified
 1377              		.thumb
 1378              		.thumb_func
 1379              		.fpu fpv4-sp-d16
 1381              	ESP8266_ExitUnvarnishSend:
 1382              	.LFB753:
 393:./Hardware/ESP8266/esp8266.c **** 
 394:./Hardware/ESP8266/esp8266.c **** 
 395:./Hardware/ESP8266/esp8266.c **** /*
 396:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_ExitUnvarnishSend
 397:./Hardware/ESP8266/esp8266.c ****  * 描述  ：配置WF-ESP8266模块退出透传模式
 398:./Hardware/ESP8266/esp8266.c ****  * 输入  ：无
 399:./Hardware/ESP8266/esp8266.c ****  * 返回  : 无
 400:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 401:./Hardware/ESP8266/esp8266.c ****  */
ARM GAS  /tmp/ccZTlMdj.s 			page 34


 402:./Hardware/ESP8266/esp8266.c **** void ESP8266_ExitUnvarnishSend ( void )
 403:./Hardware/ESP8266/esp8266.c **** {
 1383              		.loc 1 403 1 is_stmt 1 view -0
 1384              		.cfi_startproc
 1385              		@ args = 0, pretend = 0, frame = 0
 1386              		@ frame_needed = 0, uses_anonymous_args = 0
 1387 0000 08B5     		push	{r3, lr}
 1388              	.LCFI25:
 1389              		.cfi_def_cfa_offset 8
 1390              		.cfi_offset 3, -8
 1391              		.cfi_offset 14, -4
 404:./Hardware/ESP8266/esp8266.c **** 	HAL_Delay ( 1000 );
 1392              		.loc 1 404 2 view .LVU257
 1393 0002 4FF47A70 		mov	r0, #1000
 1394 0006 FFF7FEFF 		bl	HAL_Delay
 1395              	.LVL121:
 405:./Hardware/ESP8266/esp8266.c **** 	
 406:./Hardware/ESP8266/esp8266.c **** 	macESP8266_Usart ( "+++" );
 1396              		.loc 1 406 2 view .LVU258
 1397 000a 0449     		ldr	r1, .L116
 1398 000c 0448     		ldr	r0, .L116+4
 1399 000e FFF7FEFF 		bl	USART_printf
 1400              	.LVL122:
 407:./Hardware/ESP8266/esp8266.c **** 	
 408:./Hardware/ESP8266/esp8266.c **** 	HAL_Delay ( 500 ); 
 1401              		.loc 1 408 2 view .LVU259
 1402 0012 4FF4FA70 		mov	r0, #500
 1403 0016 FFF7FEFF 		bl	HAL_Delay
 1404              	.LVL123:
 409:./Hardware/ESP8266/esp8266.c **** 	
 410:./Hardware/ESP8266/esp8266.c **** }
 1405              		.loc 1 410 1 is_stmt 0 view .LVU260
 1406 001a 08BD     		pop	{r3, pc}
 1407              	.L117:
 1408              		.align	2
 1409              	.L116:
 1410 001c 00000000 		.word	.LC36
 1411 0020 00440040 		.word	1073759232
 1412              		.cfi_endproc
 1413              	.LFE753:
 1415              		.section	.rodata.ESP8266_SendString.str1.4,"aMS",%progbits,1
 1416              		.align	2
 1417              	.LC37:
 1418 0000 41542B43 		.ascii	"AT+CIPSEND=%d,%d\000"
 1418      49505345 
 1418      4E443D25 
 1418      642C2564 
 1418      00
 1419 0011 000000   		.align	2
 1420              	.LC38:
 1421 0014 41542B43 		.ascii	"AT+CIPSEND=%d\000"
 1421      49505345 
 1421      4E443D25 
 1421      6400
 1422 0022 0000     		.align	2
 1423              	.LC39:
 1424 0024 3E2000   		.ascii	"> \000"
ARM GAS  /tmp/ccZTlMdj.s 			page 35


 1425 0027 00       		.align	2
 1426              	.LC40:
 1427 0028 53454E44 		.ascii	"SEND OK\000"
 1427      204F4B00 
 1428              		.section	.text.ESP8266_SendString,"ax",%progbits
 1429              		.align	1
 1430              		.global	ESP8266_SendString
 1431              		.syntax unified
 1432              		.thumb
 1433              		.thumb_func
 1434              		.fpu fpv4-sp-d16
 1436              	ESP8266_SendString:
 1437              	.LVL124:
 1438              	.LFB754:
 411:./Hardware/ESP8266/esp8266.c **** 
 412:./Hardware/ESP8266/esp8266.c **** 
 413:./Hardware/ESP8266/esp8266.c **** /*
 414:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_SendString
 415:./Hardware/ESP8266/esp8266.c ****  * 描述  ：WF-ESP8266模块发送字符串
 416:./Hardware/ESP8266/esp8266.c ****  * 输入  ：enumEnUnvarnishTx，声明是否已使能了透传模式
 417:./Hardware/ESP8266/esp8266.c ****  *       ：pStr，要发送的字符串
 418:./Hardware/ESP8266/esp8266.c ****  *       ：ulStrLength，要发送的字符串的字节数
 419:./Hardware/ESP8266/esp8266.c ****  *       ：ucId，哪个ID发送的字符串
 420:./Hardware/ESP8266/esp8266.c ****  * 返回  : 1，发送成功
 421:./Hardware/ESP8266/esp8266.c ****  *         0，发送失败
 422:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 423:./Hardware/ESP8266/esp8266.c ****  */
 424:./Hardware/ESP8266/esp8266.c **** bool ESP8266_SendString ( FunctionalState enumEnUnvarnishTx, char * pStr, uint32_t ulStrLength, ENU
 425:./Hardware/ESP8266/esp8266.c **** {
 1439              		.loc 1 425 1 is_stmt 1 view -0
 1440              		.cfi_startproc
 1441              		@ args = 0, pretend = 0, frame = 24
 1442              		@ frame_needed = 0, uses_anonymous_args = 0
 1443              		.loc 1 425 1 is_stmt 0 view .LVU262
 1444 0000 10B5     		push	{r4, lr}
 1445              	.LCFI26:
 1446              		.cfi_def_cfa_offset 8
 1447              		.cfi_offset 4, -8
 1448              		.cfi_offset 14, -4
 1449 0002 86B0     		sub	sp, sp, #24
 1450              	.LCFI27:
 1451              		.cfi_def_cfa_offset 32
 1452 0004 0C46     		mov	r4, r1
 426:./Hardware/ESP8266/esp8266.c **** 	char cStr [20];
 1453              		.loc 1 426 2 is_stmt 1 view .LVU263
 427:./Hardware/ESP8266/esp8266.c **** 	bool bRet = false;
 1454              		.loc 1 427 2 view .LVU264
 1455              	.LVL125:
 428:./Hardware/ESP8266/esp8266.c **** 	
 429:./Hardware/ESP8266/esp8266.c **** 		
 430:./Hardware/ESP8266/esp8266.c **** 	if ( enumEnUnvarnishTx )
 1456              		.loc 1 430 2 view .LVU265
 1457              		.loc 1 430 5 is_stmt 0 view .LVU266
 1458 0006 B8B9     		cbnz	r0, .L124
 1459 0008 1146     		mov	r1, r2
 1460              	.LVL126:
 1461              		.loc 1 430 5 view .LVU267
ARM GAS  /tmp/ccZTlMdj.s 			page 36


 1462 000a 1A46     		mov	r2, r3
 1463              	.LVL127:
 431:./Hardware/ESP8266/esp8266.c **** 	{
 432:./Hardware/ESP8266/esp8266.c **** 		macESP8266_Usart ( "%s", pStr );
 433:./Hardware/ESP8266/esp8266.c **** 		
 434:./Hardware/ESP8266/esp8266.c **** 		bRet = true;
 435:./Hardware/ESP8266/esp8266.c **** 		
 436:./Hardware/ESP8266/esp8266.c **** 	}
 437:./Hardware/ESP8266/esp8266.c **** 
 438:./Hardware/ESP8266/esp8266.c **** 	else
 439:./Hardware/ESP8266/esp8266.c **** 	{
 440:./Hardware/ESP8266/esp8266.c **** 		if ( ucId < 5 )
 1464              		.loc 1 440 3 is_stmt 1 view .LVU268
 1465              		.loc 1 440 6 is_stmt 0 view .LVU269
 1466 000c 042B     		cmp	r3, #4
 1467 000e 1AD8     		bhi	.L121
 441:./Hardware/ESP8266/esp8266.c **** 			sprintf ( cStr, "AT+CIPSEND=%d,%d", ucId, ulStrLength + 2 );
 1468              		.loc 1 441 4 is_stmt 1 view .LVU270
 1469 0010 8B1C     		adds	r3, r1, #2
 1470              	.LVL128:
 1471              		.loc 1 441 4 is_stmt 0 view .LVU271
 1472 0012 1049     		ldr	r1, .L125
 1473              	.LVL129:
 1474              		.loc 1 441 4 view .LVU272
 1475 0014 01A8     		add	r0, sp, #4
 1476              	.LVL130:
 1477              		.loc 1 441 4 view .LVU273
 1478 0016 FFF7FEFF 		bl	sprintf
 1479              	.LVL131:
 1480              	.L122:
 442:./Hardware/ESP8266/esp8266.c **** 
 443:./Hardware/ESP8266/esp8266.c **** 		else
 444:./Hardware/ESP8266/esp8266.c **** 			sprintf ( cStr, "AT+CIPSEND=%d", ulStrLength + 2 );
 445:./Hardware/ESP8266/esp8266.c **** 		
 446:./Hardware/ESP8266/esp8266.c **** 		ESP8266_Cmd ( cStr, "> ", 0, 100 );
 1481              		.loc 1 446 3 is_stmt 1 view .LVU274
 1482 001a 6423     		movs	r3, #100
 1483 001c 0022     		movs	r2, #0
 1484 001e 0E49     		ldr	r1, .L125+4
 1485 0020 01A8     		add	r0, sp, #4
 1486 0022 FFF7FEFF 		bl	ESP8266_Cmd
 1487              	.LVL132:
 447:./Hardware/ESP8266/esp8266.c **** 
 448:./Hardware/ESP8266/esp8266.c **** 		bRet = ESP8266_Cmd ( pStr, "SEND OK", 0, 500 );
 1488              		.loc 1 448 3 view .LVU275
 1489              		.loc 1 448 10 is_stmt 0 view .LVU276
 1490 0026 4FF4FA73 		mov	r3, #500
 1491 002a 0022     		movs	r2, #0
 1492 002c 0B49     		ldr	r1, .L125+8
 1493 002e 2046     		mov	r0, r4
 1494 0030 FFF7FEFF 		bl	ESP8266_Cmd
 1495              	.LVL133:
 1496              	.L120:
 449:./Hardware/ESP8266/esp8266.c ****   }
 450:./Hardware/ESP8266/esp8266.c **** 	
 451:./Hardware/ESP8266/esp8266.c **** 	return bRet;
 1497              		.loc 1 451 2 is_stmt 1 view .LVU277
ARM GAS  /tmp/ccZTlMdj.s 			page 37


 452:./Hardware/ESP8266/esp8266.c **** 
 453:./Hardware/ESP8266/esp8266.c **** }
 1498              		.loc 1 453 1 is_stmt 0 view .LVU278
 1499 0034 06B0     		add	sp, sp, #24
 1500              	.LCFI28:
 1501              		.cfi_remember_state
 1502              		.cfi_def_cfa_offset 8
 1503              		@ sp needed
 1504 0036 10BD     		pop	{r4, pc}
 1505              	.LVL134:
 1506              	.L124:
 1507              	.LCFI29:
 1508              		.cfi_restore_state
 432:./Hardware/ESP8266/esp8266.c **** 		
 1509              		.loc 1 432 3 is_stmt 1 view .LVU279
 1510 0038 0A46     		mov	r2, r1
 1511              	.LVL135:
 432:./Hardware/ESP8266/esp8266.c **** 		
 1512              		.loc 1 432 3 is_stmt 0 view .LVU280
 1513 003a 0949     		ldr	r1, .L125+12
 1514              	.LVL136:
 432:./Hardware/ESP8266/esp8266.c **** 		
 1515              		.loc 1 432 3 view .LVU281
 1516 003c 0948     		ldr	r0, .L125+16
 1517              	.LVL137:
 432:./Hardware/ESP8266/esp8266.c **** 		
 1518              		.loc 1 432 3 view .LVU282
 1519 003e FFF7FEFF 		bl	USART_printf
 1520              	.LVL138:
 434:./Hardware/ESP8266/esp8266.c **** 		
 1521              		.loc 1 434 3 is_stmt 1 view .LVU283
 434:./Hardware/ESP8266/esp8266.c **** 		
 1522              		.loc 1 434 8 is_stmt 0 view .LVU284
 1523 0042 0120     		movs	r0, #1
 1524 0044 F6E7     		b	.L120
 1525              	.LVL139:
 1526              	.L121:
 444:./Hardware/ESP8266/esp8266.c **** 		
 1527              		.loc 1 444 4 is_stmt 1 view .LVU285
 1528 0046 8A1C     		adds	r2, r1, #2
 1529 0048 0749     		ldr	r1, .L125+20
 1530              	.LVL140:
 444:./Hardware/ESP8266/esp8266.c **** 		
 1531              		.loc 1 444 4 is_stmt 0 view .LVU286
 1532 004a 01A8     		add	r0, sp, #4
 1533              	.LVL141:
 444:./Hardware/ESP8266/esp8266.c **** 		
 1534              		.loc 1 444 4 view .LVU287
 1535 004c FFF7FEFF 		bl	sprintf
 1536              	.LVL142:
 444:./Hardware/ESP8266/esp8266.c **** 		
 1537              		.loc 1 444 4 view .LVU288
 1538 0050 E3E7     		b	.L122
 1539              	.L126:
 1540 0052 00BF     		.align	2
 1541              	.L125:
 1542 0054 00000000 		.word	.LC37
ARM GAS  /tmp/ccZTlMdj.s 			page 38


 1543 0058 24000000 		.word	.LC39
 1544 005c 28000000 		.word	.LC40
 1545 0060 08000000 		.word	.LC1
 1546 0064 00440040 		.word	1073759232
 1547 0068 14000000 		.word	.LC38
 1548              		.cfi_endproc
 1549              	.LFE754:
 1551              		.section	.rodata.ESP8266_ReceiveString.str1.4,"aMS",%progbits,1
 1552              		.align	2
 1553              	.LC41:
 1554 0000 2B495044 		.ascii	"+IPD\000"
 1554      00
 1555              		.section	.text.ESP8266_ReceiveString,"ax",%progbits
 1556              		.align	1
 1557              		.global	ESP8266_ReceiveString
 1558              		.syntax unified
 1559              		.thumb
 1560              		.thumb_func
 1561              		.fpu fpv4-sp-d16
 1563              	ESP8266_ReceiveString:
 1564              	.LVL143:
 1565              	.LFB755:
 454:./Hardware/ESP8266/esp8266.c **** 
 455:./Hardware/ESP8266/esp8266.c **** 
 456:./Hardware/ESP8266/esp8266.c **** /*
 457:./Hardware/ESP8266/esp8266.c ****  * 函数名：ESP8266_ReceiveString
 458:./Hardware/ESP8266/esp8266.c ****  * 描述  ：WF-ESP8266模块接收字符串
 459:./Hardware/ESP8266/esp8266.c ****  * 输入  ：enumEnUnvarnishTx，声明是否已使能了透传模式
 460:./Hardware/ESP8266/esp8266.c ****  * 返回  : 接收到的字符串首地址
 461:./Hardware/ESP8266/esp8266.c ****  * 调用  ：被外部调用
 462:./Hardware/ESP8266/esp8266.c ****  */
 463:./Hardware/ESP8266/esp8266.c **** char * ESP8266_ReceiveString ( FunctionalState enumEnUnvarnishTx )
 464:./Hardware/ESP8266/esp8266.c **** {
 1566              		.loc 1 464 1 is_stmt 1 view -0
 1567              		.cfi_startproc
 1568              		@ args = 0, pretend = 0, frame = 0
 1569              		@ frame_needed = 0, uses_anonymous_args = 0
 1570              		.loc 1 464 1 is_stmt 0 view .LVU290
 1571 0000 08B5     		push	{r3, lr}
 1572              	.LCFI30:
 1573              		.cfi_def_cfa_offset 8
 1574              		.cfi_offset 3, -8
 1575              		.cfi_offset 14, -4
 465:./Hardware/ESP8266/esp8266.c **** 	char * pRecStr = 0;
 1576              		.loc 1 465 2 is_stmt 1 view .LVU291
 1577              	.LVL144:
 466:./Hardware/ESP8266/esp8266.c **** 	
 467:./Hardware/ESP8266/esp8266.c **** 	
 468:./Hardware/ESP8266/esp8266.c **** 	strEsp8266_Fram_Record .InfBit .FramLength = 0;
 1578              		.loc 1 468 2 view .LVU292
 1579              		.loc 1 468 45 is_stmt 0 view .LVU293
 1580 0002 124B     		ldr	r3, .L133
 1581 0004 B3F80024 		ldrh	r2, [r3, #1024]
 1582 0008 6FF30E02 		bfc	r2, #0, #15
 1583 000c A3F80024 		strh	r2, [r3, #1024]	@ movhi
 469:./Hardware/ESP8266/esp8266.c **** 	strEsp8266_Fram_Record .InfBit .FramFinishFlag = 0;
 1584              		.loc 1 469 2 is_stmt 1 view .LVU294
ARM GAS  /tmp/ccZTlMdj.s 			page 39


 1585              		.loc 1 469 49 is_stmt 0 view .LVU295
 1586 0010 B3F80024 		ldrh	r2, [r3, #1024]
 1587 0014 6FF3CF32 		bfc	r2, #15, #1
 1588 0018 A3F80024 		strh	r2, [r3, #1024]	@ movhi
 470:./Hardware/ESP8266/esp8266.c **** 	
 471:./Hardware/ESP8266/esp8266.c **** 	while ( ! strEsp8266_Fram_Record .InfBit .FramFinishFlag );
 1589              		.loc 1 471 2 is_stmt 1 view .LVU296
 1590              	.L128:
 1591              		.loc 1 471 60 discriminator 1 view .LVU297
 1592              		.loc 1 471 8 discriminator 1 view .LVU298
 1593              		.loc 1 471 43 is_stmt 0 discriminator 1 view .LVU299
 1594 001c 0B4B     		ldr	r3, .L133
 1595 001e B3F80034 		ldrh	r3, [r3, #1024]
 1596              		.loc 1 471 8 discriminator 1 view .LVU300
 1597 0022 13F4004F 		tst	r3, #32768
 1598 0026 F9D0     		beq	.L128
 472:./Hardware/ESP8266/esp8266.c **** 	strEsp8266_Fram_Record .Data_RX_BUF [ strEsp8266_Fram_Record .InfBit .FramLength ] = '\0';
 1599              		.loc 1 472 2 is_stmt 1 view .LVU301
 1600              		.loc 1 472 71 is_stmt 0 view .LVU302
 1601 0028 084A     		ldr	r2, .L133
 1602 002a B2F80034 		ldrh	r3, [r2, #1024]
 1603 002e C3F30E03 		ubfx	r3, r3, #0, #15
 1604              		.loc 1 472 85 view .LVU303
 1605 0032 0021     		movs	r1, #0
 1606 0034 D154     		strb	r1, [r2, r3]
 473:./Hardware/ESP8266/esp8266.c **** 	
 474:./Hardware/ESP8266/esp8266.c **** 	if ( enumEnUnvarnishTx )
 1607              		.loc 1 474 2 is_stmt 1 view .LVU304
 1608              		.loc 1 474 5 is_stmt 0 view .LVU305
 1609 0036 30B9     		cbnz	r0, .L130
 475:./Hardware/ESP8266/esp8266.c **** 		pRecStr = strEsp8266_Fram_Record .Data_RX_BUF;
 476:./Hardware/ESP8266/esp8266.c **** 	
 477:./Hardware/ESP8266/esp8266.c **** 	else 
 478:./Hardware/ESP8266/esp8266.c **** 	{
 479:./Hardware/ESP8266/esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+IPD" ) )
 1610              		.loc 1 479 3 is_stmt 1 view .LVU306
 1611              		.loc 1 479 8 is_stmt 0 view .LVU307
 1612 0038 0549     		ldr	r1, .L133+4
 1613 003a 1046     		mov	r0, r2
 1614              	.LVL145:
 1615              		.loc 1 479 8 view .LVU308
 1616 003c FFF7FEFF 		bl	strstr
 1617              	.LVL146:
 1618              		.loc 1 479 6 view .LVU309
 1619 0040 10B1     		cbz	r0, .L127
 480:./Hardware/ESP8266/esp8266.c **** 			pRecStr = strEsp8266_Fram_Record .Data_RX_BUF;
 1620              		.loc 1 480 12 view .LVU310
 1621 0042 0248     		ldr	r0, .L133
 1622              	.LVL147:
 481:./Hardware/ESP8266/esp8266.c **** 
 482:./Hardware/ESP8266/esp8266.c **** 	}
 483:./Hardware/ESP8266/esp8266.c **** 
 484:./Hardware/ESP8266/esp8266.c **** 	return pRecStr;
 1623              		.loc 1 484 2 is_stmt 1 view .LVU311
 1624              		.loc 1 484 9 is_stmt 0 view .LVU312
 1625 0044 00E0     		b	.L127
 1626              	.LVL148:
ARM GAS  /tmp/ccZTlMdj.s 			page 40


 1627              	.L130:
 475:./Hardware/ESP8266/esp8266.c **** 	
 1628              		.loc 1 475 11 view .LVU313
 1629 0046 0148     		ldr	r0, .L133
 1630              	.LVL149:
 1631              	.L127:
 485:./Hardware/ESP8266/esp8266.c **** 	
 486:./Hardware/ESP8266/esp8266.c **** }
 1632              		.loc 1 486 1 view .LVU314
 1633 0048 08BD     		pop	{r3, pc}
 1634              	.L134:
 1635 004a 00BF     		.align	2
 1636              	.L133:
 1637 004c 00000000 		.word	.LANCHOR0
 1638 0050 00000000 		.word	.LC41
 1639              		.cfi_endproc
 1640              	.LFE755:
 1642              		.global	strUSART_Fram_Record
 1643              		.global	strEsp8266_Fram_Record
 1644              		.section	.bss.strEsp8266_Fram_Record,"aw",%nobits
 1645              		.align	2
 1646              		.set	.LANCHOR0,. + 0
 1649              	strEsp8266_Fram_Record:
 1650 0000 00000000 		.space	1026
 1650      00000000 
 1650      00000000 
 1650      00000000 
 1650      00000000 
 1651              		.section	.bss.strUSART_Fram_Record,"aw",%nobits
 1652              		.align	2
 1655              	strUSART_Fram_Record:
 1656 0000 00000000 		.space	1026
 1656      00000000 
 1656      00000000 
 1656      00000000 
 1656      00000000 
 1657              		.text
 1658              	.Letext0:
 1659              		.file 2 "/home/hao/Documents/gcc-arm-none-eabi/arm-none-eabi/include/machine/_default_types.h"
 1660              		.file 3 "/home/hao/Documents/gcc-arm-none-eabi/arm-none-eabi/include/sys/_stdint.h"
 1661              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f429xx.h"
 1662              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1663              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1664              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_rcc.h"
 1665              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_dma.h"
 1666              		.file 9 "./Hardware/ESP8266/esp8266.h"
 1667              		.file 10 "/home/hao/Documents/gcc-arm-none-eabi/arm-none-eabi/include/string.h"
 1668              		.file 11 "/home/hao/Documents/gcc-arm-none-eabi/arm-none-eabi/include/stdio.h"
 1669              		.file 12 "./Hardware/Common/common.h"
 1670              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1671              		.file 14 "<built-in>"
ARM GAS  /tmp/ccZTlMdj.s 			page 41


DEFINED SYMBOLS
                            *ABS*:0000000000000000 esp8266.c
     /tmp/ccZTlMdj.s:18     .text.ESP8266_Init:0000000000000000 $t
     /tmp/ccZTlMdj.s:26     .text.ESP8266_Init:0000000000000000 ESP8266_Init
     /tmp/ccZTlMdj.s:56     .text.ESP8266_Init:000000000000001c $d
     /tmp/ccZTlMdj.s:61     .text.ESP8266_Rst:0000000000000000 $t
     /tmp/ccZTlMdj.s:68     .text.ESP8266_Rst:0000000000000000 ESP8266_Rst
     /tmp/ccZTlMdj.s:101    .text.ESP8266_Rst:0000000000000024 $d
     /tmp/ccZTlMdj.s:106    .rodata.ESP8266_Cmd.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:113    .text.ESP8266_Cmd:0000000000000000 $t
     /tmp/ccZTlMdj.s:120    .text.ESP8266_Cmd:0000000000000000 ESP8266_Cmd
     /tmp/ccZTlMdj.s:264    .text.ESP8266_Cmd:00000000000000a4 $d
     /tmp/ccZTlMdj.s:272    .rodata.ESP8266_AT_Test.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:289    .text.ESP8266_AT_Test:0000000000000000 $t
     /tmp/ccZTlMdj.s:296    .text.ESP8266_AT_Test:0000000000000000 ESP8266_AT_Test
     /tmp/ccZTlMdj.s:381    .text.ESP8266_AT_Test:0000000000000054 $d
     /tmp/ccZTlMdj.s:391    .rodata.ESP8266_Net_Mode_Choose.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:404    .text.ESP8266_Net_Mode_Choose:0000000000000000 $t
     /tmp/ccZTlMdj.s:411    .text.ESP8266_Net_Mode_Choose:0000000000000000 ESP8266_Net_Mode_Choose
     /tmp/ccZTlMdj.s:477    .text.ESP8266_Net_Mode_Choose:0000000000000040 $d
     /tmp/ccZTlMdj.s:486    .rodata.ESP8266_JoinAP.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:490    .text.ESP8266_JoinAP:0000000000000000 $t
     /tmp/ccZTlMdj.s:497    .text.ESP8266_JoinAP:0000000000000000 ESP8266_JoinAP
     /tmp/ccZTlMdj.s:541    .text.ESP8266_JoinAP:0000000000000024 $d
     /tmp/ccZTlMdj.s:547    .rodata.ESP8266_BuildAP.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:551    .text.ESP8266_BuildAP:0000000000000000 $t
     /tmp/ccZTlMdj.s:558    .text.ESP8266_BuildAP:0000000000000000 ESP8266_BuildAP
     /tmp/ccZTlMdj.s:605    .text.ESP8266_BuildAP:0000000000000028 $d
     /tmp/ccZTlMdj.s:611    .rodata.ESP8266_Enable_MultipleId.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:615    .text.ESP8266_Enable_MultipleId:0000000000000000 $t
     /tmp/ccZTlMdj.s:622    .text.ESP8266_Enable_MultipleId:0000000000000000 ESP8266_Enable_MultipleId
     /tmp/ccZTlMdj.s:665    .text.ESP8266_Enable_MultipleId:0000000000000028 $d
     /tmp/ccZTlMdj.s:671    .rodata.ESP8266_Link_Server.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:690    .text.ESP8266_Link_Server:0000000000000000 $t
     /tmp/ccZTlMdj.s:697    .text.ESP8266_Link_Server:0000000000000000 ESP8266_Link_Server
     /tmp/ccZTlMdj.s:802    .text.ESP8266_Link_Server:000000000000006c $d
     /tmp/ccZTlMdj.s:813    .rodata.ESP8266_StartOrShutServer.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:820    .text.ESP8266_StartOrShutServer:0000000000000000 $t
     /tmp/ccZTlMdj.s:827    .text.ESP8266_StartOrShutServer:0000000000000000 ESP8266_StartOrShutServer
     /tmp/ccZTlMdj.s:927    .text.ESP8266_StartOrShutServer:0000000000000068 $d
     /tmp/ccZTlMdj.s:934    .rodata.ESP8266_Get_LinkStatus.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:947    .text.ESP8266_Get_LinkStatus:0000000000000000 $t
     /tmp/ccZTlMdj.s:954    .text.ESP8266_Get_LinkStatus:0000000000000000 ESP8266_Get_LinkStatus
     /tmp/ccZTlMdj.s:1019   .text.ESP8266_Get_LinkStatus:0000000000000040 $d
     /tmp/ccZTlMdj.s:1029   .rodata.ESP8266_Get_IdLinkStatus.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:1045   .text.ESP8266_Get_IdLinkStatus:0000000000000000 $t
     /tmp/ccZTlMdj.s:1052   .text.ESP8266_Get_IdLinkStatus:0000000000000000 ESP8266_Get_IdLinkStatus
     /tmp/ccZTlMdj.s:1179   .text.ESP8266_Get_IdLinkStatus:0000000000000074 $d
     /tmp/ccZTlMdj.s:1191   .rodata.ESP8266_Inquire_ApIp.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:1198   .text.ESP8266_Inquire_ApIp:0000000000000000 $t
     /tmp/ccZTlMdj.s:1205   .text.ESP8266_Inquire_ApIp:0000000000000000 ESP8266_Inquire_ApIp
     /tmp/ccZTlMdj.s:1300   .text.ESP8266_Inquire_ApIp:0000000000000044 $d
     /tmp/ccZTlMdj.s:1308   .rodata.ESP8266_UnvarnishSend.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:1318   .text.ESP8266_UnvarnishSend:0000000000000000 $t
     /tmp/ccZTlMdj.s:1325   .text.ESP8266_UnvarnishSend:0000000000000000 ESP8266_UnvarnishSend
     /tmp/ccZTlMdj.s:1362   .text.ESP8266_UnvarnishSend:0000000000000024 $d
     /tmp/ccZTlMdj.s:1370   .rodata.ESP8266_ExitUnvarnishSend.str1.4:0000000000000000 $d
ARM GAS  /tmp/ccZTlMdj.s 			page 42


     /tmp/ccZTlMdj.s:1374   .text.ESP8266_ExitUnvarnishSend:0000000000000000 $t
     /tmp/ccZTlMdj.s:1381   .text.ESP8266_ExitUnvarnishSend:0000000000000000 ESP8266_ExitUnvarnishSend
     /tmp/ccZTlMdj.s:1410   .text.ESP8266_ExitUnvarnishSend:000000000000001c $d
     /tmp/ccZTlMdj.s:1416   .rodata.ESP8266_SendString.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:1429   .text.ESP8266_SendString:0000000000000000 $t
     /tmp/ccZTlMdj.s:1436   .text.ESP8266_SendString:0000000000000000 ESP8266_SendString
     /tmp/ccZTlMdj.s:1542   .text.ESP8266_SendString:0000000000000054 $d
     /tmp/ccZTlMdj.s:1552   .rodata.ESP8266_ReceiveString.str1.4:0000000000000000 $d
     /tmp/ccZTlMdj.s:1556   .text.ESP8266_ReceiveString:0000000000000000 $t
     /tmp/ccZTlMdj.s:1563   .text.ESP8266_ReceiveString:0000000000000000 ESP8266_ReceiveString
     /tmp/ccZTlMdj.s:1637   .text.ESP8266_ReceiveString:000000000000004c $d
     /tmp/ccZTlMdj.s:1655   .bss.strUSART_Fram_Record:0000000000000000 strUSART_Fram_Record
     /tmp/ccZTlMdj.s:1649   .bss.strEsp8266_Fram_Record:0000000000000000 strEsp8266_Fram_Record
     /tmp/ccZTlMdj.s:1645   .bss.strEsp8266_Fram_Record:0000000000000000 $d
     /tmp/ccZTlMdj.s:1652   .bss.strUSART_Fram_Record:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_Delay
USART_printf
printf
strstr
puts
sprintf
memset
